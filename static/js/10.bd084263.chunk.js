(this.webpackJsonpprofiles=this.webpackJsonpprofiles||[]).push([[10],{1110:function(t,e,n){"use strict";n.r(e);var a=n(35),c=n(0),s=n.n(c),r=n(23),i=n(31),o=n(11),u=n(33),l=n(29),b=n(131),j=n(110),d=n(1071),h=n(34),O=n(1072),p=n(1075),f=n(1058),m=n(17),x=[137],w="0x34c01dD64203b566C4CaE656C832d5a449A34c98";e.default=function(){var t=Object(b.c)(),e=Object(i.a)(t,1)[0].data,n=Object(b.e)(),c=Object(i.a)(n,1)[0].data,S=Object(b.f)(),k=Object(i.a)(S,1)[0].data,v=Object(b.b)(),L=Object(i.a)(v,1)[0].data,g=Object(b.d)({addressOrName:w,contractInterface:d.a,signerOrProvider:k}),C=Object(o.useState)(h.a.IDLE),I=Object(i.a)(C,2),A=I[0],E=I[1],D=Object(o.useState)({transactionHash:null,tokenIdMinted:null}),y=Object(i.a)(D,2),M=y[0],F=y[1],P=Object(o.useState)({maticAmount:u.a.from(0),amount:1,publicSale:!1,whiteListSale:!1,ownedPasses:u.a.from(0)}),H=Object(i.a)(P,2),U=H[0],N=H[1],B=Object(o.useState)(),G=Object(i.a)(B,2),W=G[0],J=G[1],V=function(){var t=Object(r.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return J(""),E(h.a.LOADING),t.next=4,g.mint(U.amount,!0,{value:U.maticAmount}).then(function(){var t=Object(r.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wait(1).then((function(t){F({tokenIdMinted:parseInt(t.logs[1].topics[3]),transactionHash:t.transactionHash}),E(h.a.SUCCESSFUL)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){J(t.data?t.data.message:t.message),E(h.a.IDLE)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=Object(o.useCallback)(Object(r.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(J(""),E(h.a.LOADING),L){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,g.whitelistMint(U.amount,!0,Object(O.a)(L.address),{value:U.maticAmount}).then(function(){var t=Object(r.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wait(1).then((function(t){F({tokenIdMinted:parseInt(t.logs[1].topics[3]),transactionHash:t.transactionHash}),E(h.a.SUCCESSFUL)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){J(t.data?t.data.message:t.message),E(h.a.IDLE)}));case 6:case"end":return t.stop()}}),t)}))),[g,U.amount,U.maticAmount,L]),z=Object(o.useMemo)((function(){var t;return Object(h.c)(e.connected,(null===(t=c.chain)||void 0===t?void 0:t.id)||0,x)}),[e.connected,c.chain]);return Object(o.useEffect)((function(){Object(r.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g&&z&&L){t.next=2;break}return t.abrupt("return");case 2:return t.t0=N,t.t1=a.a,t.t2=Object(a.a)({},U),t.t3={},t.next=8,g.price();case 8:return t.t4=t.sent,t.next=11,g.publicSale();case 11:return t.t5=t.sent,t.next=14,g.whiteListSale();case 14:return t.t6=t.sent,t.next=17,g.balanceOf(L.address);case 17:t.t7=t.sent,t.t8={maticAmount:t.t4,publicSale:t.t5,whiteListSale:t.t6,ownedPasses:t.t7},t.t9=(0,t.t1)(t.t2,t.t3,t.t8),(0,t.t0)(t.t9);case 21:case"end":return t.stop()}}),t)})))()}),[g,z,L]),Object(m.jsx)(p.g,{children:Object(m.jsxs)(p.f,{children:[Object(m.jsx)(p.e,{src:j.k,alt:""}),e.connected?!z&&Object(m.jsx)(p.d,{children:"Wrong Chain! Please switch to Polygon Matic"}):Object(m.jsx)(p.d,{children:"Wallet not connected! Please connect via Metamask first"}),""!==W&&Object(m.jsx)(p.d,{children:W}),A===h.a.IDLE&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(p.b,{children:["Your owned passes: ",U.ownedPasses.toNumber()]}),Object(m.jsx)(p.i,{children:Object(m.jsxs)(p.h,{children:["Amount in Matic:"," ",parseFloat(l.a.utils.formatEther(U.maticAmount)).toFixed(7)]})}),Object(m.jsx)(p.i,{children:Object(m.jsxs)(p.h,{children:["Amount to mint: ",U.amount]})}),(U.whiteListSale||U.publicSale)&&Object(m.jsx)(p.c,{disabled:!z,onClick:function(){return U.whiteListSale?_():V()},children:U.whiteListSale?"Buy pass now (private sale)":"Buy pass now (public sale)"})]}),A===h.a.LOADING&&Object(m.jsx)(f.D,{children:Object(m.jsx)(f.C,{color:"#ed7a2d"})}),A===h.a.SUCCESSFUL&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(p.a,{onClick:function(){return E(h.a.IDLE)},children:["<","-- Back to buy more"]}),Object(m.jsx)(p.m,{children:"Welcome to the Fanzone Sports Club!"}),Object(m.jsxs)(p.l,{children:[Object(m.jsx)(p.j,{target:"_blank",href:"https://opensea.io/assets/matic/".concat(w,"/").concat(M.tokenIdMinted),children:"View pass on OpenSea"}),Object(m.jsx)(p.k,{target:"_blank",href:"https://polygonscan.com/tx/".concat(M.transactionHash),children:"View tx on polygonscan"})]})]})]})})}}}]);
//# sourceMappingURL=10.bd084263.chunk.js.map