{"version":3,"sources":["services/controllers/KeyManager.ts","utility/content/addresses.ts","hooks/useModal/useModal.ts","hooks/useTransferLsp8Token/useTransferLsp8Token.ts","assets/polygon.svg","../node_modules/ethereum-blockies-base64/dist/main.js","features/profiles/ProfileCard/styles.ts","pages/ProfileDetails/ProfileEditModal/styles.ts","hooks/usePagination/usePagination.ts","pages/Profiles/styles.ts","pages/ProfileDetails/TransferCardModal/styles.ts","pages/ProfileDetails/TransferCardModal/TransferCardModal.tsx","features/cards/MetaCard/MetaCard.tsx","assets/transfer-icon.png"],"names":["LSP6KeyManagerSchemaList","addPermissions","universalProfileAddress","address","permissions","signer","a","encodedData","keys","values","universalProfileContract","UniversalProfileProxy__factory","connect","owner","KeyManagerContract","LSP6KeyManagerProxy__factory","getData","KeyChain","LSP6AddressPermissions","currentIndex","nextIndex","ethers","BigNumber","from","toNumber","totalIndexvalue","encodeKeyValue","String","push","indexArrayKey","encodeArrayKey","encodedPermissionsKey","ERC725","encodeKeyName","replace","encodedPermissionsValue","encodePermissions","encodedSetDataFunction","interface","encodeFunctionData","execute","transferCardViaKeyManager","assetAddress","keyManagerAddress","tokenId","toAddress","assetContract","CardTokenProxy__factory","keyManagerContract","encodedTransferFunction","encodedExecuteFunction","transaction","wait","then","result","status","Error","setCardMarketViaKeyManager","acceptedToken","minimumAmount","tokenIdAsBytes","tokenIdAsBytes32","encodedSetMarketFor","toString","approveTokenViaKeyManager","spenderAddress","tokenAddress","amount","erc20Contract","ERC20__factory","encodedApprove","buyFromCardMarketViaKeyManager","referrerAddress","tokenIdBytes","encodedBuyFromMarket","transferBalanceViaKeyManager","amountToTransfer","tokenContract","encodedTransfer","removeMarketViaKeymanager","CardMarket__factory","encodedRemoveMarketForFunction","KeyManagerApi","getDefaultAddresses","network","type","fetch","res","json","trimedAddress","slice","length","getWhiteListedTokenAddresses","polygon","mumbai","ethereum","l14","l16","defaultReferrerAddress","constants","AddressZero","useModal","content","key","persist","useContext","ModalContext","isOpen","onDismiss","onPresent","handlePresent","useCallback","useTransferLsp8Token","cardAddress","profile","useState","STATUS","IDLE","transferState","setTransferState","error","setError","useSigner","data","useNetwork","networkData","transferCard","chain","name","toast","position","LOADING","isOwnerKeyManager","SUCCESSFUL","catch","FAILED","LSP3ProfileApi","transferCardViaUniversalProfile","resetState","factory","modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","pnglib","hsl2rgb","randseed","Array","rand","t","createColor","Math","floor","fillRect","png","x","y","w","h","color","i","j","buffer","index","buildOpts","opts","seed","charCodeAt","seedrand","Object","assign","size","scale","bgcolor","spotcolor","toLowerCase","imageData","width","height","dataWidth","ceil","mirrorWidth","row","r","reverse","concat","createImageData","sqrt","col","pngColor","getBase64","depth","write","offs","arguments","charAt","byte4","fromCharCode","byte2lsb","this","pix_size","data_size","ihdr_offs","ihdr_size","plte_offs","plte_size","trns_offs","trns_size","idat_offs","idat_size","iend_offs","iend_size","buffer_size","palette","pindex","_crc32","header","bits","red","green","blue","alpha","ndx","c1","c2","c3","e1","e2","e3","e4","s","getDump","ch","l","BASE","s1","s2","n","crc32","crc","join","hue2rgb","q","g","b","round","StyledProfileCard","styled","Link","theme","animation","cardrender","demo","screen","sm","StyledProfileDetailWrapper","div","StyledBalanceWrapper","StyledBalance","font","weight","regular","StyledPolygon","img","StyledProfileDetail","StyledProfileName","h3","bolder","StyledProfileRole","StyledProfileMedia","BgProfileCard","StyledProfileBlockie","StyledProfileImg","StyledEditProfileModalContent","StyledInputRow","StyledInput","input","StyledLabel","label","StyledTextAreaInput","textarea","StyledSaveButton","button","StyledLoadingMessage","StyledErrorText","StyledErrorLoadingContent","MetaLabeledInput","MetaLabel","span","FileEditWrapper","PreviewImage","ImageWrapper","ProfileInfo","ProfileName","ProfileError","usePagination","range","setRange","StyledMainContent","BodyBackground","StyledHeaderSection","HeaderBackground","md","lg","StyledHeading","h1","StyledHeaderContent","StyledInfoSection","xl","StyledNftInfoSection","StyledInfoHeading","StyledImg","StyledContentwrappar","StyledDivider","StyledProfilesHeader","StyledProfileHeading","StyledDescription","StyledLuksoIcon","StyledLuksoBadge","StyledLuksoLogo","StyledInfoContent","StyledAd","HeaderAd","StyledNftInfoIcon","StyledNftInfoText","StyledNftInfo","StyledTransferCardModalContent","StyledSelectInput","select","TransferCardModal","asset","transferCardForm","setTransferCardForm","destinationProfile","setDestinationProfile","profileAddressError","setProfileAddressError","getProfile","missingCaractersCount","utils","isAddress","isUniversalProfile","fetchProfile","changeHandler","event","currentTarget","value","message","src","profileImage","map","item","htmlFor","onChange","ownedAssets","find","ownedAsset","tokenIds","defaultValue","onClick","MetaCard","digitalCard","balance","canTransfer","params","useParams","explorer","getChainExplorer","onDismissTransferCardModal","onPresentTransferCardModal","href","target","rel","universalprofile","alt","exploreUrl","icon","to","supportedInterface","lsp8MetaData","image","startsWith","Utils","convertImageURL","LSP4Metadata","images","url","getCardImg","split"],"mappings":"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","file":"static/js/0.c2a497f0.chunk.js","sourcesContent":["import { ERC725, ERC725JSONSchema } from '@erc725/erc725.js';\nimport {\n  encodeArrayKey,\n  encodeKeyValue,\n} from '@erc725/erc725.js/build/main/lib/utils';\nimport { BigNumber, BigNumberish, BytesLike, ethers, Signer } from 'ethers';\nimport {\n  CardMarket__factory,\n  CardTokenProxy__factory,\n  ERC20__factory,\n  LSP6KeyManagerProxy__factory,\n  UniversalProfileProxy__factory,\n} from '../../submodules/fanzone-smart-contracts/typechain';\nimport { executeCallToUniversalProfileViaKeyManager } from '../../submodules/fanzone-smart-contracts/utils/universalProfile';\nimport { tokenIdAsBytes32 } from '../../utils/cardToken';\nimport { Address } from '../../utils/types';\nimport KeyChain from '../utilities/KeyChain';\n\nconst LSP6KeyManagerSchemaList: ERC725JSONSchema = {\n  name: 'AddressPermissions[]',\n  key: '0xdf30dba06db6a30e65354d9a64c609861f089545ca58c6b4dbe31a5f338cb0e3',\n  keyType: 'Array',\n  valueContent: 'Number',\n  valueType: 'uint256',\n};\n\ntype permissionObject = {\n  [k: string]: boolean;\n};\n\nconst addPermissions = async (\n  universalProfileAddress: string,\n  address: string,\n  permissions: permissionObject,\n  signer: Signer,\n) => {\n  const encodedData = {\n    keys: [],\n    values: [],\n  } as { keys: string[]; values: string[] };\n  const universalProfileContract = UniversalProfileProxy__factory.connect(\n    universalProfileAddress,\n    signer,\n  );\n  const owner = await universalProfileContract.owner();\n  const KeyManagerContract = LSP6KeyManagerProxy__factory.connect(\n    owner,\n    signer,\n  );\n\n  const [currentIndex] = await universalProfileContract.getData([\n    KeyChain.LSP6AddressPermissions,\n  ]);\n  const nextIndex =\n    currentIndex === '0x' ? 0 : ethers.BigNumber.from(currentIndex).toNumber();\n\n  const totalIndexvalue = encodeKeyValue(\n    LSP6KeyManagerSchemaList.valueContent,\n    LSP6KeyManagerSchemaList.valueType,\n    String(nextIndex + 1),\n    LSP6KeyManagerSchemaList.name,\n  );\n  encodedData.keys.push(LSP6KeyManagerSchemaList.key);\n  encodedData.values.push(totalIndexvalue);\n\n  const indexArrayKey = encodeArrayKey(LSP6KeyManagerSchemaList.key, nextIndex);\n  encodedData.keys.push(indexArrayKey);\n  encodedData.values.push(address);\n\n  const encodedPermissionsKey = ERC725.encodeKeyName(\n    `AddressPermissions:Permissions:${address.replace('0x', '')}`,\n  );\n  const encodedPermissionsValue = ERC725.encodePermissions(permissions);\n  encodedData.keys.push(encodedPermissionsKey);\n  encodedData.values.push(encodedPermissionsValue);\n\n  const encodedSetDataFunction =\n    universalProfileContract.interface.encodeFunctionData('setData', [\n      encodedData.keys,\n      encodedData.values,\n    ]);\n\n  await KeyManagerContract.execute(encodedSetDataFunction);\n};\n\nconst transferCardViaKeyManager = async (\n  assetAddress: string,\n  universalProfileAddress: string,\n  keyManagerAddress: string,\n  tokenId: number,\n  toAddress: string,\n  signer: Signer,\n) => {\n  const assetContract = CardTokenProxy__factory.connect(assetAddress, signer);\n  const universalProfileContract = UniversalProfileProxy__factory.connect(\n    universalProfileAddress,\n    signer,\n  );\n  const keyManagerContract = LSP6KeyManagerProxy__factory.connect(\n    keyManagerAddress,\n    signer,\n  );\n\n  const encodedTransferFunction = assetContract.interface.encodeFunctionData(\n    'transferFrom',\n    [universalProfileAddress, toAddress, tokenId],\n  );\n\n  const encodedExecuteFunction =\n    universalProfileContract.interface.encodeFunctionData('execute', [\n      '0x0',\n      assetAddress,\n      0,\n      encodedTransferFunction,\n    ]);\n\n  const transaction = await keyManagerContract.execute(encodedExecuteFunction);\n  await transaction.wait(1).then((result) => {\n    if (result.status === 0) {\n      throw new Error('Transaction reverted');\n    }\n  });\n};\n\nconst setCardMarketViaKeyManager = async (\n  assetAddress: string,\n  universalProfileAddress: string,\n  keyManagerAddress: string,\n  tokenId: number,\n  acceptedToken: string,\n  minimumAmount: BigNumberish,\n  signer: Signer,\n) => {\n  const assetContract = CardTokenProxy__factory.connect(assetAddress, signer);\n  const universalProfileContract = UniversalProfileProxy__factory.connect(\n    universalProfileAddress,\n    signer,\n  );\n  const keyManagerContract = LSP6KeyManagerProxy__factory.connect(\n    keyManagerAddress,\n    signer,\n  );\n  const tokenIdAsBytes = tokenIdAsBytes32(tokenId);\n  const encodedSetMarketFor = assetContract.interface.encodeFunctionData(\n    'setMarketFor',\n    [tokenIdAsBytes, acceptedToken, minimumAmount.toString()],\n  );\n  const encodedExecuteFunction =\n    universalProfileContract.interface.encodeFunctionData('execute', [\n      '0x0',\n      assetAddress,\n      0,\n      encodedSetMarketFor,\n    ]);\n\n  const transaction = await keyManagerContract.execute(encodedExecuteFunction);\n  await transaction.wait(1).then((result) => {\n    if (result.status === 0) {\n      throw new Error('Transaction reverted');\n    }\n  });\n};\n\nconst approveTokenViaKeyManager = async (\n  keyManagerAddress: string,\n  universalProfileAddress: string,\n  spenderAddress: string,\n  tokenAddress: string,\n  amount: BigNumber,\n  signer: Signer,\n) => {\n  const universalProfileContract = UniversalProfileProxy__factory.connect(\n    universalProfileAddress,\n    signer,\n  );\n  const keyManagerContract = LSP6KeyManagerProxy__factory.connect(\n    keyManagerAddress,\n    signer,\n  );\n  const erc20Contract = ERC20__factory.connect(tokenAddress, signer);\n  const encodedApprove = erc20Contract.interface.encodeFunctionData('approve', [\n    spenderAddress,\n    amount.toString(),\n  ]);\n\n  const encodedExecuteFunction =\n    universalProfileContract.interface.encodeFunctionData('execute', [\n      '0x0',\n      tokenAddress,\n      0,\n      encodedApprove,\n    ]);\n\n  const transaction = await keyManagerContract.execute(encodedExecuteFunction);\n  await transaction.wait(1).then((result) => {\n    if (result.status === 0) {\n      throw new Error('Transaction reverted');\n    }\n  });\n};\n\nconst buyFromCardMarketViaKeyManager = async (\n  assetAddress: string,\n  keyManagerAddress: string,\n  universalProfileAddress: string,\n  tokenId: number,\n  minimumAmount: BigNumber,\n  signer: Signer,\n  referrerAddress: Address,\n) => {\n  const assetContract = CardTokenProxy__factory.connect(assetAddress, signer);\n  const tokenIdBytes = tokenIdAsBytes32(tokenId);\n  const keyManagerContract = LSP6KeyManagerProxy__factory.connect(\n    keyManagerAddress,\n    signer,\n  );\n  const universalProfileContract = UniversalProfileProxy__factory.connect(\n    universalProfileAddress,\n    signer,\n  );\n\n  const encodedBuyFromMarket = assetContract.interface.encodeFunctionData(\n    'buyFromMarket',\n    [tokenIdBytes, minimumAmount.toString(), referrerAddress],\n  );\n\n  const encodedExecuteFunction =\n    universalProfileContract.interface.encodeFunctionData('execute', [\n      '0x0',\n      assetAddress,\n      0,\n      encodedBuyFromMarket,\n    ]);\n\n  const transaction = await keyManagerContract.execute(encodedExecuteFunction);\n  await transaction.wait(1).then((result) => {\n    if (result.status === 0) {\n      throw new Error('Transaction reverted');\n    }\n  });\n};\n\nconst transferBalanceViaKeyManager = async (\n  tokenAddress: string,\n  keyManagerAddress: string,\n  universalProfileAddress: string,\n  amountToTransfer: BigNumberish,\n  toAddress: string,\n  signer: Signer,\n) => {\n  const tokenContract = ERC20__factory.connect(tokenAddress, signer);\n  const keyManagerContract = LSP6KeyManagerProxy__factory.connect(\n    keyManagerAddress,\n    signer,\n  );\n  const universalProfileContract = UniversalProfileProxy__factory.connect(\n    universalProfileAddress,\n    signer,\n  );\n  const encodedTransfer = tokenContract.interface.encodeFunctionData(\n    'transfer',\n    [toAddress, amountToTransfer],\n  );\n\n  const encodedExecuteFunction =\n    universalProfileContract.interface.encodeFunctionData('execute', [\n      '0x0',\n      tokenAddress,\n      0,\n      encodedTransfer,\n    ]);\n  const transaction = await keyManagerContract.execute(encodedExecuteFunction);\n  await transaction.wait(1).then((result) => {\n    if (result.status === 0) {\n      throw new Error('Transaction reverted');\n    }\n  });\n};\nconst removeMarketViaKeymanager = async (\n  assetAddress: string,\n  universalProfileAddress: string,\n  keyManagerAddress: string,\n  tokenId: BytesLike,\n  signer: Signer,\n) => {\n  const assetContract = CardMarket__factory.connect(assetAddress, signer);\n  const universalProfileContract = UniversalProfileProxy__factory.connect(\n    universalProfileAddress,\n    signer,\n  );\n\n  const keyManagerContract = LSP6KeyManagerProxy__factory.connect(\n    keyManagerAddress,\n    signer,\n  );\n\n  const encodedRemoveMarketForFunction =\n    assetContract.interface.encodeFunctionData('removeMarketFor', [tokenId]);\n\n  const encodedExecuteFunction =\n    universalProfileContract.interface.encodeFunctionData('execute', [\n      '0x0',\n      assetAddress,\n      0,\n      encodedRemoveMarketForFunction,\n    ]);\n\n  const transaction = await keyManagerContract.execute(encodedExecuteFunction);\n  await transaction.wait(1).then((result) => {\n    if (result.status === 0) {\n      throw new Error('Transaction reverted');\n    }\n  });\n};\n\nconst executeTransactionViaKeyManager = async (\n  keyManagerAddress: Address,\n  encodedData: string,\n  signer: Signer,\n) => {\n  const contract = LSP6KeyManagerProxy__factory.connect(\n    keyManagerAddress,\n    signer,\n  );\n  const transaction = await contract.execute(encodedData);\n  await transaction.wait(1).then((result) => {\n    if (result.status === 0) {\n      throw new Error('Transaction reverted');\n    }\n  });\n};\n\nexport const KeyManagerApi = {\n  addPermissions,\n  setCardMarketViaKeyManager,\n  transferCardViaKeyManager,\n  approveTokenViaKeyManager,\n  buyFromCardMarketViaKeyManager,\n  transferBalanceViaKeyManager,\n  removeMarketViaKeymanager,\n};\n","import { ethers } from 'ethers';\nimport { NetworkName } from '../../boot/types';\nimport { Address } from '../../utils/types';\n\nexport const getDefaultAddresses = async (\n  network: NetworkName,\n  type: 'assetsAddresses' | 'profileAddresses',\n): Promise<Array<Address>> => {\n  const res = await fetch(`./api/${network}/${type}.json`);\n  return res.json();\n};\n\nexport const trimedAddress = (address: Address) =>\n  `${address.slice(0, 8)}...${address.slice(\n    address.length - 4,\n    address.length,\n  )}`;\n\nexport const getWhiteListedTokenAddresses = (network: NetworkName) => {\n  const whiteListedTokens: { [key in NetworkName]: Array<string> } = {\n    polygon: [\n      '0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619',\n      '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174',\n    ],\n    mumbai: ['0xA6FA4fB5f76172d178d61B04b0ecd319C5d1C0aa'],\n    ethereum: ['0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2'],\n    l14: [''],\n    l16: [''],\n  };\n\n  return whiteListedTokens[network];\n};\n\nexport const defaultReferrerAddress = {\n  polygon: ethers.constants.AddressZero,\n  mumbai: ethers.constants.AddressZero,\n  ethereum: ethers.constants.AddressZero,\n  l14: ethers.constants.AddressZero,\n  l16: ethers.constants.AddressZero,\n};\n","import { useCallback, useContext } from 'react';\nimport { ModalContext, IOnPresent } from '../../context/ModalProvider';\n\nexport const useModal = (\n  ...[content, key, persist]: Parameters<IOnPresent>\n) => {\n  const { isOpen, onDismiss, onPresent } = useContext(ModalContext);\n\n  const handlePresent = useCallback(() => {\n    onPresent(content, key, persist);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [content, key, onPresent]);\n\n  return { handlePresent, onDismiss, isOpen };\n};\n","import { Signer } from 'ethers';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { useNetwork, useSigner } from 'wagmi';\nimport { NetworkName } from '../../boot/types';\nimport { KeyManagerApi } from '../../services/controllers/KeyManager';\nimport { LSP3ProfileApi } from '../../services/controllers/LSP3Profile';\nimport { IOwnedAssets } from '../../services/models';\nimport { STATUS } from '../../utility';\nimport { Address } from '../../utils/types';\n\n// @Todo fix type\ninterface IProfile {\n  address: Address;\n  owner: Address;\n  isOwnerKeyManager: boolean;\n  ownedAssets: IOwnedAssets[];\n}\n\nexport const useTransferLsp8Token = (\n  cardAddress: Address,\n  toAddress: Address,\n  tokenId: number | null,\n  profile: IProfile,\n  network: NetworkName,\n) => {\n  const [transferState, setTransferState] = useState<STATUS>(STATUS.IDLE);\n  const [error, setError] = useState();\n  const [{ data: signer }] = useSigner();\n  const [{ data: networkData }] = useNetwork();\n\n  const transferCard = async () => {\n    if (networkData.chain?.name !== network) {\n      toast('Wrong Network', { type: 'error', position: 'top-right' });\n      return;\n    }\n    setTransferState(STATUS.LOADING);\n    if (profile.isOwnerKeyManager) {\n      await KeyManagerApi.transferCardViaKeyManager(\n        cardAddress,\n        profile.address,\n        profile.owner,\n        tokenId ? tokenId : 0,\n        toAddress,\n        signer as Signer,\n      )\n        .then(() => {\n          setTransferState(STATUS.SUCCESSFUL);\n        })\n        .catch((error) => {\n          setError(error);\n          setTransferState(STATUS.FAILED);\n        });\n    } else {\n      await LSP3ProfileApi.transferCardViaUniversalProfile(\n        cardAddress,\n        profile.address,\n        tokenId ? tokenId : 0,\n        toAddress,\n        signer as Signer,\n      )\n        .then(() => {\n          setTransferState(STATUS.SUCCESSFUL);\n        })\n        .catch((error) => {\n          setError(error);\n          setTransferState(STATUS.FAILED);\n        });\n    }\n  };\n\n  return {\n    transferCard,\n    transferState,\n    error,\n    resetState: () => setTransferState(STATUS.IDLE),\n  };\n};\n","export default __webpack_public_path__ + \"static/media/polygon.9f8343d5.svg\";","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ethereum-blockies-base64\"] = factory();\n\telse\n\t\troot[\"ethereum-blockies-base64\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tconst pnglib = __webpack_require__(1);\n\tconst hsl2rgb = __webpack_require__(2);\n\n\t// The random number is a js implementation of the Xorshift PRNG\n\tconst randseed = new Array(4); // Xorshift: [x, y, z, w] 32 bit values\n\n\tfunction seedrand(seed) {\n\t  for (let i = 0; i < randseed.length; i++) {\n\t    randseed[i] = 0;\n\t  }\n\t  for (let i = 0; i < seed.length; i++) {\n\t    randseed[i % 4] = (randseed[i % 4] << 5) - randseed[i % 4] + seed.charCodeAt(i);\n\t  }\n\t}\n\n\tfunction rand() {\n\t  // based on Java's String.hashCode(), expanded to 4 32bit values\n\t  const t = randseed[0] ^ (randseed[0] << 11);\n\n\t  randseed[0] = randseed[1];\n\t  randseed[1] = randseed[2];\n\t  randseed[2] = randseed[3];\n\t  randseed[3] = randseed[3] ^ (randseed[3] >> 19) ^ t ^ (t >> 8);\n\n\t  return (randseed[3] >>> 0) / (1 << 31 >>> 0);\n\t}\n\n\tfunction createColor() {\n\t  //saturation is the whole color spectrum\n\t  const h = Math.floor(rand() * 360);\n\t  //saturation goes from 40 to 100, it avoids greyish colors\n\t  const s = rand() * 60 + 40;\n\t  //lightness can be anything from 0 to 100, but probabilities are a bell curve around 50%\n\t  const l = (rand() + rand() + rand() + rand()) * 25 ;\n\n\t  return [h / 360, s / 100, l / 100];\n\t}\n\n\tfunction createImageData(size) {\n\t  const width = size; // Only support square icons for now\n\t  const height = size;\n\n\t  const dataWidth = Math.ceil(width / 2);\n\t  const mirrorWidth = width - dataWidth;\n\n\t  const data = [];\n\t  for (let y = 0; y < height; y++) {\n\t    let row = [];\n\t    for (let x = 0; x < dataWidth; x++) {\n\t      // this makes foreground and background color to have a 43% (1/2.3) probability\n\t      // spot color has 13% chance\n\t      row[x] = Math.floor(rand() * 2.3);\n\t    }\n\t    const r = row.slice(0, mirrorWidth).reverse();\n\t    row = row.concat(r);\n\n\t    for (let i = 0; i < row.length; i++) {\n\t      data.push(row[i]);\n\t    }\n\t  }\n\n\t  return data;\n\t}\n\n\t// Modifies the passed PNG to fill in a specified rectangle\n\tfunction fillRect(png, x, y, w, h, color) {\n\t  for(let i = 0; i < w; i++) {\n\t    for (let j = 0; j < h; j++) {\n\t      png.buffer[png.index(x + i, y + j)] = color;\n\t    }\n\t  }\n\t}\n\n\tfunction buildOpts(opts) {\n\t  if (!opts.seed) {\n\t    throw new Error('No seed provided');\n\t  }\n\n\t  seedrand(opts.seed);\n\n\t  return Object.assign({\n\t    size: 8,\n\t    scale: 16,\n\t    color: createColor(),\n\t    bgcolor: createColor(),\n\t    spotcolor: createColor(),\n\t  }, opts)\n\t}\n\n\tfunction makeBlockie(address) {\n\t  const opts = buildOpts({ seed: address.toLowerCase() });\n\n\t  const imageData = createImageData(opts.size);\n\t  const width = Math.sqrt(imageData.length);\n\n\t  const p = new pnglib(opts.size * opts.scale, opts.size * opts.scale, 3);\n\t  const bgcolor = p.color(...hsl2rgb(...opts.bgcolor));\n\t  const color = p.color(...hsl2rgb(...opts.color));\n\t  const spotcolor = p.color(...hsl2rgb(...opts.spotcolor));\n\n\t  for (let i = 0; i < imageData.length; i++) {\n\t    const row = Math.floor(i / width);\n\t    const col = i % width;\n\t    // if data is 0, leave the background\n\t    if (imageData[i]) {\n\t      // if data is 2, choose spot color, if 1 choose foreground\n\t      const pngColor = imageData[i] == 1 ? color : spotcolor;\n\t      fillRect(p, col * opts.scale, row * opts.scale, opts.scale, opts.scale, pngColor);\n\t    }\n\t  }\n\t  return `data:image/png;base64,${p.getBase64()}`;\n\t}\n\n\tmodule.exports = makeBlockie;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t/**\n\t * A handy class to calculate color values.\n\t *\n\t * @version 1.0\n\t * @author Robert Eisele <robert@xarg.org>\n\t * @copyright Copyright (c) 2010, Robert Eisele\n\t * @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/\n\t * @license http://www.opensource.org/licenses/bsd-license.php BSD License\n\t *\n\t */\n\n\t// Modified by George Chan <gchan@21cn.com>\n\n\t// Further modified by Will O'B <@wbobeirne> to make it\n\t// UglifyJS and \"use strict\"; friendly\n\n\tmodule.exports = function(width,height,depth) {\n\n\n\t    // helper functions for that ctx\n\t    function write(buffer, offs) {\n\t        for (var i = 2; i < arguments.length; i++) {\n\t            for (var j = 0; j < arguments[i].length; j++) {\n\t                buffer[offs++] = arguments[i].charAt(j);\n\t            }\n\t        }\n\t    }\n\n\t    function byte2(w) {\n\t        return String.fromCharCode((w >> 8) & 255, w & 255);\n\t    }\n\n\t    function byte4(w) {\n\t        return String.fromCharCode((w >> 24) & 255, (w >> 16) & 255, (w >> 8) & 255, w & 255);\n\t    }\n\n\t    function byte2lsb(w) {\n\t        return String.fromCharCode(w & 255, (w >> 8) & 255);\n\t    }\n\n\t    this.width   = width;\n\t    this.height  = height;\n\t    this.depth   = depth;\n\n\t    // pixel data and row filter identifier size\n\t    this.pix_size = height * (width + 1);\n\n\t    // deflate header, pix_size, block headers, adler32 checksum\n\t    this.data_size = 2 + this.pix_size + 5 * Math.floor((0xfffe + this.pix_size) / 0xffff) + 4;\n\n\t    // offsets and sizes of Png chunks\n\t    this.ihdr_offs = 0; // IHDR offset and size\n\t    this.ihdr_size = 4 + 4 + 13 + 4;\n\t    this.plte_offs = this.ihdr_offs + this.ihdr_size; // PLTE offset and size\n\t    this.plte_size = 4 + 4 + 3 * depth + 4;\n\t    this.trns_offs = this.plte_offs + this.plte_size; // tRNS offset and size\n\t    this.trns_size = 4 + 4 + depth + 4;\n\t    this.idat_offs = this.trns_offs + this.trns_size; // IDAT offset and size\n\t    this.idat_size = 4 + 4 + this.data_size + 4;\n\t    this.iend_offs = this.idat_offs + this.idat_size; // IEND offset and size\n\t    this.iend_size = 4 + 4 + 4;\n\t    this.buffer_size  = this.iend_offs + this.iend_size; // total PNG size\n\n\t    this.buffer  = new Array();\n\t    this.palette = new Object();\n\t    this.pindex  = 0;\n\n\t    var _crc32 = new Array();\n\n\t    // initialize buffer with zero bytes\n\t    for (var i = 0; i < this.buffer_size; i++) {\n\t        this.buffer[i] = \"\\x00\";\n\t    }\n\n\t    // initialize non-zero elements\n\t    write(this.buffer, this.ihdr_offs, byte4(this.ihdr_size - 12), 'IHDR', byte4(width), byte4(height), \"\\x08\\x03\");\n\t    write(this.buffer, this.plte_offs, byte4(this.plte_size - 12), 'PLTE');\n\t    write(this.buffer, this.trns_offs, byte4(this.trns_size - 12), 'tRNS');\n\t    write(this.buffer, this.idat_offs, byte4(this.idat_size - 12), 'IDAT');\n\t    write(this.buffer, this.iend_offs, byte4(this.iend_size - 12), 'IEND');\n\n\t    // initialize deflate header\n\t    var header = ((8 + (7 << 4)) << 8) | (3 << 6);\n\t    header+= 31 - (header % 31);\n\n\t    write(this.buffer, this.idat_offs + 8, byte2(header));\n\n\t    // initialize deflate block headers\n\t    for (var i = 0; (i << 16) - 1 < this.pix_size; i++) {\n\t        var size, bits;\n\t        if (i + 0xffff < this.pix_size) {\n\t            size = 0xffff;\n\t            bits = \"\\x00\";\n\t        } else {\n\t            size = this.pix_size - (i << 16) - i;\n\t            bits = \"\\x01\";\n\t        }\n\t        write(this.buffer, this.idat_offs + 8 + 2 + (i << 16) + (i << 2), bits, byte2lsb(size), byte2lsb(~size));\n\t    }\n\n\t    /* Create crc32 lookup table */\n\t    for (var i = 0; i < 256; i++) {\n\t        var c = i;\n\t        for (var j = 0; j < 8; j++) {\n\t            if (c & 1) {\n\t                c = -306674912 ^ ((c >> 1) & 0x7fffffff);\n\t            } else {\n\t                c = (c >> 1) & 0x7fffffff;\n\t            }\n\t        }\n\t        _crc32[i] = c;\n\t    }\n\n\t    // compute the index into a png for a given pixel\n\t    this.index = function(x,y) {\n\t        var i = y * (this.width + 1) + x + 1;\n\t        var j = this.idat_offs + 8 + 2 + 5 * Math.floor((i / 0xffff) + 1) + i;\n\t        return j;\n\t    }\n\n\t    // convert a color and build up the palette\n\t    this.color = function(red, green, blue, alpha) {\n\n\t        alpha = alpha >= 0 ? alpha : 255;\n\t        var color = (((((alpha << 8) | red) << 8) | green) << 8) | blue;\n\n\t        if (typeof this.palette[color] == \"undefined\") {\n\t            if (this.pindex == this.depth) return \"\\x00\";\n\n\t            var ndx = this.plte_offs + 8 + 3 * this.pindex;\n\n\t            this.buffer[ndx + 0] = String.fromCharCode(red);\n\t            this.buffer[ndx + 1] = String.fromCharCode(green);\n\t            this.buffer[ndx + 2] = String.fromCharCode(blue);\n\t            this.buffer[this.trns_offs+8+this.pindex] = String.fromCharCode(alpha);\n\n\t            this.palette[color] = String.fromCharCode(this.pindex++);\n\t        }\n\t        return this.palette[color];\n\t    }\n\n\t    // output a PNG string, Base64 encoded\n\t    this.getBase64 = function() {\n\n\t        var s = this.getDump();\n\n\t        var ch = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\t        var c1, c2, c3, e1, e2, e3, e4;\n\t        var l = s.length;\n\t        var i = 0;\n\t        var r = \"\";\n\n\t        do {\n\t            c1 = s.charCodeAt(i);\n\t            e1 = c1 >> 2;\n\t            c2 = s.charCodeAt(i+1);\n\t            e2 = ((c1 & 3) << 4) | (c2 >> 4);\n\t            c3 = s.charCodeAt(i+2);\n\t            if (l < i+2) { e3 = 64; } else { e3 = ((c2 & 0xf) << 2) | (c3 >> 6); }\n\t            if (l < i+3) { e4 = 64; } else { e4 = c3 & 0x3f; }\n\t            r+= ch.charAt(e1) + ch.charAt(e2) + ch.charAt(e3) + ch.charAt(e4);\n\t        } while ((i+= 3) < l);\n\t        return r;\n\t    }\n\n\t    // output a PNG string\n\t    this.getDump = function() {\n\t        // compute adler32 of output pixels + row filter bytes\n\t        var BASE = 65521; /* largest prime smaller than 65536 */\n\t        var NMAX = 5552; /* NMAX is the largest n such that 255n(n+1)/2 + (n+1)(BASE-1) <= 2^32-1 */\n\t        var s1 = 1;\n\t        var s2 = 0;\n\t        var n = NMAX;\n\n\t        for (var y = 0; y < this.height; y++) {\n\t            for (var x = -1; x < this.width; x++) {\n\t                s1+= this.buffer[this.index(x, y)].charCodeAt(0);\n\t                s2+= s1;\n\t                if ((n-= 1) == 0) {\n\t                    s1%= BASE;\n\t                    s2%= BASE;\n\t                    n = NMAX;\n\t                }\n\t            }\n\t        }\n\t        s1%= BASE;\n\t        s2%= BASE;\n\t        write(this.buffer, this.idat_offs + this.idat_size - 8, byte4((s2 << 16) | s1));\n\n\t        // compute crc32 of the PNG chunks\n\t        function crc32(png, offs, size) {\n\t            var crc = -1;\n\t            for (var i = 4; i < size-4; i += 1) {\n\t                crc = _crc32[(crc ^ png[offs+i].charCodeAt(0)) & 0xff] ^ ((crc >> 8) & 0x00ffffff);\n\t            }\n\t            write(png, offs+size-4, byte4(crc ^ -1));\n\t        }\n\n\t        crc32(this.buffer, this.ihdr_offs, this.ihdr_size);\n\t        crc32(this.buffer, this.plte_offs, this.plte_size);\n\t        crc32(this.buffer, this.trns_offs, this.trns_size);\n\t        crc32(this.buffer, this.idat_offs, this.idat_size);\n\t        crc32(this.buffer, this.iend_offs, this.iend_size);\n\n\t        // convert PNG to string\n\t        return \"\\x89PNG\\r\\n\\x1a\\n\" + this.buffer.join('');\n\t    }\n\t};\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t// https://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion\n\t/**\n\t * Converts an HSL color value to RGB. Conversion formula\n\t * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n\t * Assumes h, s, and l are contained in the set [0, 1] and\n\t * returns r, g, and b in the set [0, 255].\n\t *\n\t * @param   {number}  h       The hue\n\t * @param   {number}  s       The saturation\n\t * @param   {number}  l       The lightness\n\t * @return  {Array}           The RGB representation\n\t */\n\n\t function hue2rgb(p, q, t) {\n\t   if(t < 0) t += 1;\n\t   if(t > 1) t -= 1;\n\t   if(t < 1/6) return p + (q - p) * 6 * t;\n\t   if(t < 1/2) return q;\n\t   if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n\t   return p;\n\t }\n\n\tfunction hsl2rgb(h, s, l){\n\t  let r, g, b;\n\n\t  if (s == 0) {\n\t    r = g = b = l; // achromatic\n\t  } else {\n\t    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\t    const p = 2 * l - q;\n\t    r = hue2rgb(p, q, h + 1/3);\n\t    g = hue2rgb(p, q, h);\n\t    b = hue2rgb(p, q, h - 1/3);\n\t  }\n\n\t  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), 255];\n\t}\n\n\tmodule.exports = hsl2rgb;\n\n\n/***/ }\n/******/ ])\n});\n;","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { BgProfileCard } from '../../../assets';\n\nexport const StyledProfileCard = styled(Link)<{ demo?: boolean }>`\n  animation: ${({ theme }) => theme.animation.cardrender} 1s linear;\n  width: ${({ demo }) => (demo ? '165px' : '117px')};\n  border-radius: 10px;\n  position: relative;\n  transition: transform 0.2s ease-in-out;\n  border: 1px solid rgba(255, 255, 255, 0.25);\n\n  &:hover {\n    transform: scale(1.05);\n  }\n\n  @media ${({ theme }) => theme.screen.sm} {\n    display: block;\n    width: 100%;\n  }\n`;\n\nexport const StyledProfileDetailWrapper = styled.div<{ demo?: boolean }>`\n  display: flex;\n  flex-direction: column;\n  height: ${({ demo }) => (demo ? '68px' : '53px')};\n  background-color: #212121;\n  border-radius: 0 0 10px 10px;\n  padding: 5px 10px 5px 10px;\n`;\n\nexport const StyledBalanceWrapper = styled.div<{ demo?: boolean }>`\n  display: flex;\n  width: ${({ demo }) => (demo ? '30px' : '19px')};\n  position: absolute;\n  right: 0;\n  z-index: 10;\n  margin-top: ${({ demo }) => (demo ? '18px' : '14px')};\n  margin-right: ${({ demo }) => (demo ? '10px' : '8px')};\n`;\n\nexport const StyledBalance = styled.p<{ demo?: boolean }>`\n  font-size: ${({ demo }) => (demo ? '12px' : '8px')};\n  font-weight: ${({ theme }) => theme.font.weight.regular};\n  margin: auto;\n`;\n\nexport const StyledPolygon = styled.img<{ demo?: boolean }>`\n  position: absolute;\n  right: 0;\n  margin-top: ${({ demo }) => (demo ? '10px' : '8px')};\n  margin-right: ${({ demo }) => (demo ? '10px' : '8px')};\n  width: ${({ demo }) => (demo ? '30px' : '19px')};\n  z-index: 10;\n`;\n\nexport const StyledProfileDetail = styled.div`\n  margin-top: auto;\n  margin-bottom: auto;\n`;\n\nexport const StyledProfileName = styled.h3<{ demo?: boolean }>`\n  font-size: ${({ demo }) => (demo ? '18px' : '13px')};\n  font-weight: ${({ theme }) => theme.font.weight.bolder};\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nexport const StyledProfileRole = styled.p`\n  font-size: 13px;\n  color: #bcbcbc;\n`;\n\nexport const StyledProfileMedia = styled.div<{ demo?: boolean }>`\n  background: url(${BgProfileCard});\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  position: relative;\n  display: flex;\n  z-index: 0;\n  height: ${({ demo }) => (demo ? '213px' : '121px')};\n  border-radius: 10px 10px 0 0;\n`;\n\nexport const StyledProfileBlockie = styled.img<{ demo?: boolean }>`\n  width: ${({ demo }) => (demo ? '141px' : '89px')};\n  height: ${({ demo }) => (demo ? '141px' : '89px')};\n  border-radius: 100%;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  z-index: -1;\n\n  @media ${({ theme }) => theme.screen.sm} {\n    height: ${({ demo }) => (demo ? '154px' : '89px')};\n    width: ${({ demo }) => (demo ? '154px' : '89px')};\n  }\n`;\n\nexport const StyledProfileImg = styled.img<{ demo?: boolean }>`\n  height: ${({ demo }) => (demo ? '121px' : '80px')};\n  width: ${({ demo }) => (demo ? '121px' : '80px')};\n  margin: auto;\n  border-radius: 100%;\n  object-fit: cover;\n\n  @media ${({ theme }) => theme.screen.sm} {\n    width: ${({ demo }) => (demo ? '132px' : '80px')};\n    height: ${({ demo }) => (demo ? '132px' : '80px')};\n  }\n`;\n","import styled from 'styled-components';\n\nexport const StyledEditProfileModalContent = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const StyledInputRow = styled.div`\n  column-gap: 1.5em;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  margin: 25px 0 0 0;\n  align-items: flex-end;\n`;\n\nexport const StyledInput = styled.input`\n  background: transparent;\n  color: white;\n  border: 1px solid rgba(153, 153, 153, 1);\n  border-radius: 0.3em;\n  margin-left: 0.5em;\n  padding: 0.5em 0.5em;\n  width: 100%;\n`;\n\nexport const StyledLabel = styled.label`\n  color: #fff;\n`;\n\nexport const StyledTextAreaInput = styled.textarea`\n  background: transparent;\n  color: white;\n  border: 1px solid rgba(153, 153, 153, 1);\n  border-radius: 0.3em;\n  margin-left: 0.5em;\n  padding: 0.5em 0.5em;\n  width: 100%;\n  resize: vertical;\n`;\n\nexport const StyledSaveButton = styled.button`\n  color: #fff;\n  background: linear-gradient(180deg, #ff9b00 0%, #ff5c00 100%);\n  font-size: 0.9375rem;\n  padding: 0.75em;\n  width: 100%;\n`;\n\nexport const StyledLoadingMessage = styled.p``;\n\nexport const StyledErrorText = styled.p``;\n\nexport const StyledErrorLoadingContent = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const MetaLabeledInput = styled.div`\n  display: flex;\n  align-items: flex-end;\n`;\n\nexport const MetaLabel = styled.span`\n  font-size: 14px;\n  color: rgba(153, 153, 153, 1);\n`;\n\nexport const FileEditWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n`;\n\nexport const PreviewImage = styled.img`\n  max-width: 5em;\n  height: auto;\n  border-radius: 0.3em;\n  margin-bottom: 0.5em;\n`;\n\nexport const ImageWrapper = styled.div`\n  text-align: center;\n`;\n\nexport const ProfileInfo = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n`;\n\nexport const ProfileName = styled.p`\n  padding: 1px 2px;\n  border: 1px solid #ffffff80;\n  border-radius: 5px;\n`;\n\nexport const ProfileError = styled.p`\n  color: #cc0000;\n`;\n","import { useState } from 'react';\n\nexport const usePagination = () => {\n  const [range, setRange] = useState<[number, number]>([0, 9]); // load first 10 by default\n\n  return {\n    range,\n    setRange,\n  };\n};\n","import styled from 'styled-components';\nimport { HeaderBackground, HeaderAd, BodyBackground } from '../../assets';\n\nexport const StyledMainContent = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  color: white;\n  background: url(${BodyBackground});\n`;\n\nexport const StyledHeaderSection = styled.div`\n  display: flex;\n  flex-flow: column;\n  justify-content: space-between;\n  width: 100%;\n  padding: 40px 15px 70px;\n  background: linear-gradient(\n      0deg,\n      rgba(33, 33, 33, 0.7),\n      rgba(33, 33, 33, 0.7)\n    ),\n    url(${HeaderBackground});\n  background-size: cover;\n\n  @media ${({ theme }) => theme.screen.md} {\n    flex-flow: row;\n    padding: 70px 20px;\n  }\n\n  @media ${({ theme }) => theme.screen.lg} {\n    padding: 90px 120px;\n  }\n`;\n\nexport const StyledHeading = styled.h1`\n  font-size: 25px;\n  padding: 15px 0;\n  text-align: center;\n  text-transform: uppercase;\n\n  @media ${({ theme }) => theme.screen.md} {\n    font-size: 45px;\n    text-align: left;\n  }\n`;\n\nexport const StyledHeaderContent = styled.div`\n  @media ${({ theme }) => theme.screen.md} {\n    max-width: 550px;\n  }\n`;\n\nexport const StyledInfoSection = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-flow: column;\n  padding: 45px 15px 0 15px;\n\n  @media ${({ theme }) => theme.screen.md} {\n    flex-flow: row;\n    padding: 40px 30px;\n  }\n\n  @media ${({ theme }) => theme.screen.lg} {\n    flex-flow: row;\n    padding: 40px 30px;\n    align-items: start;\n  }\n\n  @media ${({ theme }) => theme.screen.xl} {\n    flex-flow: row;\n    padding: 90px 120px;\n  }\n`;\n\nexport const StyledNftInfoSection = styled(StyledInfoSection)`\n  align-items: start;\n  @media ${({ theme }) => theme.screen.md} {\n    flex-flow: row;\n    flex-wrap: wrap;\n    justify-content: space-between;\n  }\n`;\n\nexport const StyledInfoHeading = styled(StyledHeading)`\n  @media ${({ theme }) => theme.screen.md} {\n    font-size: 40px;\n  }\n`;\n\nexport const StyledImg = styled.img`\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n`;\n\nexport const StyledContentwrappar = styled.div`\n  width: 100%;\n  margin-left: auto;\n  padding: 0 15px 0 15px;\n  margin-right: auto;\n  display: flex;\n  flex-direction: column;\n\n  @media ${({ theme }) => theme.screen.md} {\n    max-width: 1440px;\n  }\n`;\n\nexport const StyledDivider = styled.span`\n  height: 1px;\n  width: 100%;\n  margin-top: 20px;\n  background: radial-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0)),\n    rgba(33, 33, 33, 0.6);\n`;\n\nexport const StyledProfilesHeader = styled.div`\n  padding-top: 30px;\n  display: flex;\n`;\n\nexport const StyledProfileHeading = styled.h1`\n  font-size: 24px;\n  font-weight: ${({ theme }) => theme.font.weight.bolder};\n  margin-right: auto;\n`;\n\nexport const StyledProfilesWrapper = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  width: 100%;\n  padding: 20px 0 20px 0;\n  justify-items: center;\n\n  @media ${({ theme }) => theme.screen.md} {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n  @media ${({ theme }) => theme.screen.lg} {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n  @media ${({ theme }) => theme.screen.xl} {\n    grid-template-columns: repeat(5, minmax(0, 1fr));\n  }\n`;\n\nexport const StyledErrorContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 40px auto 0 auto;\n  row-gap: 10px;\n`;\n\nexport const StyledError = styled.h1`\n  font-size: 24px;\n`;\n\nexport const StyledReloadButton = styled.button`\n  background: black;\n  padding: 8px 16px 8px 16px;\n  border-radius: 6px;\n  margin-right: auto;\n  margin-left: auto;\n`;\n\nexport const StyledDescription = styled.p`\n  font-size: 16px;\n  color: #ffffff;\n  text-align: center;\n  opacity: 0.4;\n  margin: 1.5em 0;\n\n  @media ${({ theme }) => theme.screen.md} {\n    margin: 1.5em 0;\n    font-size: 20px;\n    text-align: left;\n  }\n`;\n\nexport const StyledContainer = styled.div``;\n\nexport const StyledLuksoIcon = styled.div`\n  width: 90px;\n  height: 15px;\n  margin: auto;\n`;\n\nexport const StyledLuksoBadge = styled.div`\n  width: 225px;\n  height: 225px;\n  margin: 0 auto 25px auto;\n`;\n\nexport const StyledLuksoLogo = styled.div`\n  margin-bottom: 15px;\n\n  @media ${({ theme }) => theme.screen.md} {\n    margin: auto 0;\n  }\n`;\n\nexport const StyledInfoContent = styled.div`\n  @media ${({ theme }) => theme.screen.md} {\n    max-width: 850px;\n  }\n`;\n\nexport const StyledAd = styled.div`\n  height: 396px;\n  background: linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)),\n    url(${HeaderAd});\n  background-size: cover;\n\n  @media ${({ theme }) => theme.screen.md} {\n    width: 520px;\n    height: 295px;\n    margin-left: 50px;\n    border: 1px solid white;\n    border-radius: 5px;\n  }\n`;\n\nexport const StyledNftInfoIcon = styled.div`\n  width: 72px;\n  height: 72px;\n  margin-right: 22px;\n  flex-shrink: 0;\n`;\n\nexport const StyledNftInfoText = styled.p`\n  font-size: 19px;\n  color: #ffffffcc;\n\n  @media ${({ theme }) => theme.screen.md} {\n    max-width: 240px;\n  }\n`;\n\nexport const StyledNftInfo = styled.div`\n  display: flex;\n  margin: 30px 0;\n\n  @media ${({ theme }) => theme.screen.md} {\n    margin: 50px 10px;\n  }\n\n  @media ${({ theme }) => theme.screen.lg} {\n    margin: 50px 20px;\n  }\n`;\n","import styled from 'styled-components';\n\nexport const StyledTransferCardModalContent = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const StyledSelectInput = styled.select`\n  color: black;\n  width: 200px;\n`;\n","import React, { useState } from 'react';\nimport { ethers } from 'ethers';\nimport {\n  StyledModalButton,\n  StyledModalButtonsWrapper,\n} from '../../../components/Modal/styles';\nimport { ICard, IOwnedAssets, IProfile } from '../../../services/models';\nimport {\n  StyledInput,\n  StyledInputRow,\n  StyledLabel,\n  PreviewImage,\n  ProfileInfo,\n  ProfileName,\n  ProfileError,\n  ImageWrapper,\n} from '../ProfileEditModal/styles';\nimport { StyledSelectInput, StyledTransferCardModalContent } from './styles';\nimport { Address } from '../../../utils/types';\nimport { trimedAddress } from '../../../utility/content/addresses';\nimport { useTransferLsp8Token } from '../../../hooks/useTransferLsp8Token';\nimport { NetworkName } from '../../../boot/types';\nimport { LSP3ProfileApi } from '../../../services/controllers/LSP3Profile';\n\ninterface IProps {\n  profile: {\n    address: Address;\n    owner: Address;\n    isOwnerKeyManager: boolean;\n    ownedAssets: IOwnedAssets[];\n  };\n  asset: ICard;\n  onDismiss: () => any;\n  network: NetworkName;\n}\n\ntype formInput = {\n  toAddress: string;\n  cardAddress: string;\n  tokenId: number | null;\n};\n\nexport const TransferCardModal = ({\n  profile,\n  asset,\n  onDismiss,\n  network,\n}: IProps) => {\n  const [transferCardForm, setTransferCardForm] = useState<formInput>({\n    toAddress: '',\n    cardAddress: asset.address,\n    tokenId: null,\n  });\n\n  const { transferCard, transferState, error } = useTransferLsp8Token(\n    transferCardForm.cardAddress,\n    transferCardForm.toAddress,\n    transferCardForm.tokenId,\n    profile,\n    network,\n  );\n\n  const [destinationProfile, setDestinationProfile] = useState<IProfile | null>(\n    null,\n  );\n  const [profileAddressError, setProfileAddressError] = useState<string | null>(\n    null,\n  );\n\n  const getProfile = async (\n    address: string,\n    network: NetworkName,\n  ): Promise<IProfile | void> => {\n    if (address.length !== 42) {\n      const missingCaractersCount = 42 - address.length;\n\n      throw new Error(\n        `Invalid address, missing ${missingCaractersCount} character${\n          missingCaractersCount === 1 ? '' : 's'\n        }`,\n      );\n    }\n\n    if (!ethers.utils.isAddress(address)) {\n      throw new Error('Address is invalid or does not exists');\n    }\n\n    const isValidProfile = await LSP3ProfileApi.isUniversalProfile(\n      address,\n      network,\n    );\n\n    if (!isValidProfile) {\n      throw new Error('Address is invalid or does not exists');\n    }\n\n    return LSP3ProfileApi.fetchProfile(address, network);\n  };\n\n  const changeHandler = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>,\n  ) => {\n    if (\n      event.currentTarget.name === 'cardAddress' &&\n      event.currentTarget.value !== transferCardForm.cardAddress\n    ) {\n      setTransferCardForm({\n        ...transferCardForm,\n        [event.currentTarget.name]: event.currentTarget.value,\n        tokenId: null,\n      });\n    } else {\n      if (event.currentTarget.name === 'toAddress') {\n        getProfile(event.currentTarget.value, network)\n          .then((profile) => {\n            if (profile) {\n              setDestinationProfile(profile);\n              setProfileAddressError(null);\n            }\n          })\n          .catch((error) => {\n            setDestinationProfile(null);\n            setProfileAddressError(error.message);\n          });\n      }\n\n      setTransferCardForm({\n        ...transferCardForm,\n        [event.currentTarget.name]: event.currentTarget.value,\n      });\n    }\n  };\n\n  const fields = [\n    { name: 'toAddress', label: 'To', type: 'text' },\n    { name: 'cardName', label: 'Card Name', type: 'select' },\n    { name: 'cardAddress', label: 'Card Address', type: 'select' },\n    { name: 'tokenId', label: 'Token Id', type: 'select' },\n  ];\n\n  return (\n    <StyledTransferCardModalContent>\n      <ProfileInfo>\n        {profileAddressError && (\n          <ProfileError>{profileAddressError}</ProfileError>\n        )}\n        {destinationProfile && (\n          <ImageWrapper>\n            <PreviewImage src={destinationProfile.profileImage} />\n            <ProfileName>{destinationProfile.name}</ProfileName>\n          </ImageWrapper>\n        )}\n      </ProfileInfo>\n      {fields.map((item, i) => (\n        <StyledInputRow key={i}>\n          <StyledLabel htmlFor={item.name}>{item.label}</StyledLabel>\n          {item.type === 'text' && (\n            <StyledInput\n              id={item.name}\n              name={item.name}\n              type={item.type}\n              onChange={changeHandler}\n            />\n          )}\n          {item.type === 'select' && item.name === 'cardName' && (\n            <p>{asset.name}</p>\n          )}\n          {item.type === 'select' && item.name === 'cardAddress' && (\n            <p>{trimedAddress(asset.address)}</p>\n          )}\n          {item.type === 'select' && item.name === 'tokenId' && (\n            <StyledSelectInput name={item.name} onChange={changeHandler}>\n              <option>Select token id</option>\n              {profile.ownedAssets\n                .find((ownedAsset) => ownedAsset.assetAddress === asset.address)\n                ?.tokenIds.map((tokenId, key) => (\n                  <option key={key} value={tokenId} defaultValue={tokenId}>\n                    {tokenId}\n                  </option>\n                ))}\n            </StyledSelectInput>\n          )}\n        </StyledInputRow>\n      ))}\n      <StyledModalButtonsWrapper>\n        <StyledModalButton onClick={transferCard}>\n          Transfer Card\n        </StyledModalButton>\n      </StyledModalButtonsWrapper>\n    </StyledTransferCardModalContent>\n  );\n};\n","import React from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { ICard, IProfile } from '../../../services/models';\nimport universalprofile from '../../../assets/universalprofile.png';\nimport transferIcon from '../../../assets/transfer-icon.png';\nimport polygon from '../../../assets/polygon.svg';\nimport {\n  StyledBlockScoutIcon,\n  StyledCardDetail,\n  StyledCardFullName,\n  StyledCardName,\n  StyledCardWrapper,\n  StyledMediaWrapper,\n  StyledMetaCardImg,\n  StyledTransferButton,\n  StyledTransferIcon,\n  StyledUniversalProfileIcon,\n} from './styles';\nimport { getChainExplorer } from '../../../utility';\nimport { NetworkName } from '../../../boot/types';\nimport {\n  StyledBalance,\n  StyledBalanceWrapper,\n  StyledPolygon,\n} from '../../profiles/ProfileCard/styles';\nimport { useModal } from '../../../hooks/useModal';\nimport { TransferCardModal } from '../../../pages/ProfileDetails/TransferCardModal';\nimport Utils from '../../../services/utilities/util';\n\ninterface IProps {\n  digitalCard: ICard;\n  type: string;\n  balance?: number;\n  profile?: IProfile;\n  canTransfer?: boolean;\n}\n\ninterface IParams {\n  network: NetworkName;\n}\n\nexport const MetaCard: React.FC<IProps> = ({\n  digitalCard,\n  type,\n  balance,\n  profile,\n  canTransfer,\n}: IProps) => {\n  const params = useParams<IParams>();\n  const explorer = getChainExplorer(params.network);\n\n  const {\n    handlePresent: onPresentTransferCardModal,\n    onDismiss: onDismissTransferCardModal,\n  } = useModal(\n    <TransferCardModal\n      profile={{\n        address: profile?.address ? profile.address : '',\n        owner: profile?.owner ? profile.owner : '',\n        isOwnerKeyManager: profile?.isOwnerKeyManager\n          ? profile.isOwnerKeyManager\n          : false,\n        ownedAssets: profile?.ownedAssets ? profile.ownedAssets : [],\n      }}\n      asset={digitalCard}\n      onDismiss={() => onDismissTransferCardModal()}\n      network={params.network}\n    />,\n    'Card Transfer Modal',\n    'Transfer Card',\n  );\n\n  const getCardImg = () => {\n    if (digitalCard.supportedInterface === 'erc721') {\n      const img = digitalCard.lsp8MetaData[0]?.image;\n      return img && img.startsWith('ipfs://')\n        ? Utils.convertImageURL(img)\n        : img;\n    } else {\n      const img = digitalCard?.lsp8MetaData[0]?.LSP4Metadata.images[0][0].url;\n      return img && img.startsWith('ipfs://')\n        ? Utils.convertImageURL(img)\n        : img;\n    }\n  };\n\n  return (\n    <StyledCardWrapper>\n      {params.network === 'l14' && (\n        <a\n          href={'https://universalprofile.cloud/asset/' + digitalCard.address}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <StyledUniversalProfileIcon src={universalprofile} alt=\"\" />\n        </a>\n      )}\n      {type === 'owned' && (\n        <>\n          <StyledBalanceWrapper demo={true}>\n            <StyledBalance demo={true}>{balance}</StyledBalance>\n          </StyledBalanceWrapper>\n          <StyledPolygon src={polygon} alt=\"\" demo={true} />\n        </>\n      )}\n      {canTransfer === true && (\n        <StyledTransferButton onClick={onPresentTransferCardModal}>\n          <StyledTransferIcon src={transferIcon} alt=\"\" />\n        </StyledTransferButton>\n      )}\n      <a\n        href={explorer && explorer.exploreUrl + digitalCard.address}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        <StyledBlockScoutIcon src={explorer?.icon} alt=\"\" />\n      </a>\n      <Link to={`/${params.network}/asset/` + digitalCard.address}>\n        <StyledMediaWrapper>\n          <StyledMetaCardImg src={getCardImg()} alt=\"\" />\n        </StyledMediaWrapper>\n        <StyledCardDetail>\n          <StyledCardName>{digitalCard.name.split('')[0]}</StyledCardName>\n          <StyledCardFullName>{digitalCard.name}</StyledCardFullName>\n        </StyledCardDetail>\n      </Link>\n    </StyledCardWrapper>\n  );\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHdSURBVFiF1dexaxRBFMfxj4cQgl4shahYCKlSGEmRQjSof0CaQKy00MZOWxMrJU0KRf+BVNoc/g8G/wRBIY1aiIlFCCEEMVmL2SPDurO3SW7v8MHAzb335vfdmXtv9vjPbBZvMDYM8TnsIcs/D9QW8DsXzzA/SPGH2I/EBwrwCAcF8b4CnK7wPcXzhG+mxto/8QPrAvSRbNm/T33c8Q2vcKmu+EofxeOxiyW0egH8agigO95jpArgDnYahljttQvXsdUwxL2u2EeslUBMSx9H3TI8gyksYqOwxneMir5olywwKZRSP/rAGDqFdRZigKuJxAmhlOoAzCp/kK61ChBvYTufLFUkXnbYUFIAt3PfJ4xXrHXO4XF8hi/5ZEP1NTueL57hVol/PgJcz6FT9iyP24Z3UWJHdaNo40bCFwNkwrFNJGKnojh3C4kdYZuOakWATPgBT5bEtmOAUaEk4sRNYZuu4ewJADKhlKdL4tfwoTu5n0ju19gSmlulrTYMsSO0+aSNCBdFkxCbvXahJfSD3YYAVnoBdO0iXuJrH8WXy4RO1YC5ggs43yNuBk8SvkW8qKF1IisrwwM8blo4BbCPB4MSLwL8Eb1wDMrmcvE9Q/jrRrhJX+PmMMSPbX8BpqlvT1UmYJ0AAAAASUVORK5CYII=\""],"sourceRoot":""}