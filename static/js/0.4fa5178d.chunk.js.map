{"version":3,"sources":["../node_modules/ethereum-blockies-base64/dist/main.js","../../../../src/types/Method.ts","../../../../src/lib/constants.ts","../../../../src/lib/provider-wrapper-utils.ts","../../../../src/providers/web3ProviderWrapper.ts","../../../../src/providers/ethereumProviderWrapper.ts","../../../../src/lib/encoder.ts","../../../../src/lib/utils.ts","../../../../src/schemas/index.ts","../../../../src/lib/schemaParser.ts","../../../src/index.ts"],"names":["factory","modules","installedModules","__webpack_require__","moduleId","exports","module","id","loaded","call","m","c","p","pnglib","hsl2rgb","randseed","Array","rand","t","createColor","Math","floor","fillRect","png","x","y","w","h","color","i","j","buffer","index","buildOpts","opts","seed","Error","length","charCodeAt","seedrand","Object","assign","size","scale","bgcolor","spotcolor","address","toLowerCase","imageData","width","height","dataWidth","ceil","mirrorWidth","data","row","r","slice","reverse","concat","push","createImageData","sqrt","col","pngColor","getBase64","depth","write","offs","arguments","charAt","byte4","String","fromCharCode","byte2lsb","this","pix_size","data_size","ihdr_offs","ihdr_size","plte_offs","plte_size","trns_offs","trns_size","idat_offs","idat_size","iend_offs","iend_size","buffer_size","palette","pindex","_crc32","header","bits","red","green","blue","alpha","ndx","c1","c2","c3","e1","e2","e3","e4","s","getDump","ch","l","BASE","s1","s2","n","crc32","crc","join","hue2rgb","q","g","b","round","Method","Encoding","ERC725_VERSION","decode","encode"],"mappings":"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","file":"static/js/0.4fa5178d.chunk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ethereum-blockies-base64\"] = factory();\n\telse\n\t\troot[\"ethereum-blockies-base64\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tconst pnglib = __webpack_require__(1);\n\tconst hsl2rgb = __webpack_require__(2);\n\n\t// The random number is a js implementation of the Xorshift PRNG\n\tconst randseed = new Array(4); // Xorshift: [x, y, z, w] 32 bit values\n\n\tfunction seedrand(seed) {\n\t  for (let i = 0; i < randseed.length; i++) {\n\t    randseed[i] = 0;\n\t  }\n\t  for (let i = 0; i < seed.length; i++) {\n\t    randseed[i % 4] = (randseed[i % 4] << 5) - randseed[i % 4] + seed.charCodeAt(i);\n\t  }\n\t}\n\n\tfunction rand() {\n\t  // based on Java's String.hashCode(), expanded to 4 32bit values\n\t  const t = randseed[0] ^ (randseed[0] << 11);\n\n\t  randseed[0] = randseed[1];\n\t  randseed[1] = randseed[2];\n\t  randseed[2] = randseed[3];\n\t  randseed[3] = randseed[3] ^ (randseed[3] >> 19) ^ t ^ (t >> 8);\n\n\t  return (randseed[3] >>> 0) / (1 << 31 >>> 0);\n\t}\n\n\tfunction createColor() {\n\t  //saturation is the whole color spectrum\n\t  const h = Math.floor(rand() * 360);\n\t  //saturation goes from 40 to 100, it avoids greyish colors\n\t  const s = rand() * 60 + 40;\n\t  //lightness can be anything from 0 to 100, but probabilities are a bell curve around 50%\n\t  const l = (rand() + rand() + rand() + rand()) * 25 ;\n\n\t  return [h / 360, s / 100, l / 100];\n\t}\n\n\tfunction createImageData(size) {\n\t  const width = size; // Only support square icons for now\n\t  const height = size;\n\n\t  const dataWidth = Math.ceil(width / 2);\n\t  const mirrorWidth = width - dataWidth;\n\n\t  const data = [];\n\t  for (let y = 0; y < height; y++) {\n\t    let row = [];\n\t    for (let x = 0; x < dataWidth; x++) {\n\t      // this makes foreground and background color to have a 43% (1/2.3) probability\n\t      // spot color has 13% chance\n\t      row[x] = Math.floor(rand() * 2.3);\n\t    }\n\t    const r = row.slice(0, mirrorWidth).reverse();\n\t    row = row.concat(r);\n\n\t    for (let i = 0; i < row.length; i++) {\n\t      data.push(row[i]);\n\t    }\n\t  }\n\n\t  return data;\n\t}\n\n\t// Modifies the passed PNG to fill in a specified rectangle\n\tfunction fillRect(png, x, y, w, h, color) {\n\t  for(let i = 0; i < w; i++) {\n\t    for (let j = 0; j < h; j++) {\n\t      png.buffer[png.index(x + i, y + j)] = color;\n\t    }\n\t  }\n\t}\n\n\tfunction buildOpts(opts) {\n\t  if (!opts.seed) {\n\t    throw new Error('No seed provided');\n\t  }\n\n\t  seedrand(opts.seed);\n\n\t  return Object.assign({\n\t    size: 8,\n\t    scale: 16,\n\t    color: createColor(),\n\t    bgcolor: createColor(),\n\t    spotcolor: createColor(),\n\t  }, opts)\n\t}\n\n\tfunction makeBlockie(address) {\n\t  const opts = buildOpts({ seed: address.toLowerCase() });\n\n\t  const imageData = createImageData(opts.size);\n\t  const width = Math.sqrt(imageData.length);\n\n\t  const p = new pnglib(opts.size * opts.scale, opts.size * opts.scale, 3);\n\t  const bgcolor = p.color(...hsl2rgb(...opts.bgcolor));\n\t  const color = p.color(...hsl2rgb(...opts.color));\n\t  const spotcolor = p.color(...hsl2rgb(...opts.spotcolor));\n\n\t  for (let i = 0; i < imageData.length; i++) {\n\t    const row = Math.floor(i / width);\n\t    const col = i % width;\n\t    // if data is 0, leave the background\n\t    if (imageData[i]) {\n\t      // if data is 2, choose spot color, if 1 choose foreground\n\t      const pngColor = imageData[i] == 1 ? color : spotcolor;\n\t      fillRect(p, col * opts.scale, row * opts.scale, opts.scale, opts.scale, pngColor);\n\t    }\n\t  }\n\t  return `data:image/png;base64,${p.getBase64()}`;\n\t}\n\n\tmodule.exports = makeBlockie;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t/**\n\t * A handy class to calculate color values.\n\t *\n\t * @version 1.0\n\t * @author Robert Eisele <robert@xarg.org>\n\t * @copyright Copyright (c) 2010, Robert Eisele\n\t * @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/\n\t * @license http://www.opensource.org/licenses/bsd-license.php BSD License\n\t *\n\t */\n\n\t// Modified by George Chan <gchan@21cn.com>\n\n\t// Further modified by Will O'B <@wbobeirne> to make it\n\t// UglifyJS and \"use strict\"; friendly\n\n\tmodule.exports = function(width,height,depth) {\n\n\n\t    // helper functions for that ctx\n\t    function write(buffer, offs) {\n\t        for (var i = 2; i < arguments.length; i++) {\n\t            for (var j = 0; j < arguments[i].length; j++) {\n\t                buffer[offs++] = arguments[i].charAt(j);\n\t            }\n\t        }\n\t    }\n\n\t    function byte2(w) {\n\t        return String.fromCharCode((w >> 8) & 255, w & 255);\n\t    }\n\n\t    function byte4(w) {\n\t        return String.fromCharCode((w >> 24) & 255, (w >> 16) & 255, (w >> 8) & 255, w & 255);\n\t    }\n\n\t    function byte2lsb(w) {\n\t        return String.fromCharCode(w & 255, (w >> 8) & 255);\n\t    }\n\n\t    this.width   = width;\n\t    this.height  = height;\n\t    this.depth   = depth;\n\n\t    // pixel data and row filter identifier size\n\t    this.pix_size = height * (width + 1);\n\n\t    // deflate header, pix_size, block headers, adler32 checksum\n\t    this.data_size = 2 + this.pix_size + 5 * Math.floor((0xfffe + this.pix_size) / 0xffff) + 4;\n\n\t    // offsets and sizes of Png chunks\n\t    this.ihdr_offs = 0; // IHDR offset and size\n\t    this.ihdr_size = 4 + 4 + 13 + 4;\n\t    this.plte_offs = this.ihdr_offs + this.ihdr_size; // PLTE offset and size\n\t    this.plte_size = 4 + 4 + 3 * depth + 4;\n\t    this.trns_offs = this.plte_offs + this.plte_size; // tRNS offset and size\n\t    this.trns_size = 4 + 4 + depth + 4;\n\t    this.idat_offs = this.trns_offs + this.trns_size; // IDAT offset and size\n\t    this.idat_size = 4 + 4 + this.data_size + 4;\n\t    this.iend_offs = this.idat_offs + this.idat_size; // IEND offset and size\n\t    this.iend_size = 4 + 4 + 4;\n\t    this.buffer_size  = this.iend_offs + this.iend_size; // total PNG size\n\n\t    this.buffer  = new Array();\n\t    this.palette = new Object();\n\t    this.pindex  = 0;\n\n\t    var _crc32 = new Array();\n\n\t    // initialize buffer with zero bytes\n\t    for (var i = 0; i < this.buffer_size; i++) {\n\t        this.buffer[i] = \"\\x00\";\n\t    }\n\n\t    // initialize non-zero elements\n\t    write(this.buffer, this.ihdr_offs, byte4(this.ihdr_size - 12), 'IHDR', byte4(width), byte4(height), \"\\x08\\x03\");\n\t    write(this.buffer, this.plte_offs, byte4(this.plte_size - 12), 'PLTE');\n\t    write(this.buffer, this.trns_offs, byte4(this.trns_size - 12), 'tRNS');\n\t    write(this.buffer, this.idat_offs, byte4(this.idat_size - 12), 'IDAT');\n\t    write(this.buffer, this.iend_offs, byte4(this.iend_size - 12), 'IEND');\n\n\t    // initialize deflate header\n\t    var header = ((8 + (7 << 4)) << 8) | (3 << 6);\n\t    header+= 31 - (header % 31);\n\n\t    write(this.buffer, this.idat_offs + 8, byte2(header));\n\n\t    // initialize deflate block headers\n\t    for (var i = 0; (i << 16) - 1 < this.pix_size; i++) {\n\t        var size, bits;\n\t        if (i + 0xffff < this.pix_size) {\n\t            size = 0xffff;\n\t            bits = \"\\x00\";\n\t        } else {\n\t            size = this.pix_size - (i << 16) - i;\n\t            bits = \"\\x01\";\n\t        }\n\t        write(this.buffer, this.idat_offs + 8 + 2 + (i << 16) + (i << 2), bits, byte2lsb(size), byte2lsb(~size));\n\t    }\n\n\t    /* Create crc32 lookup table */\n\t    for (var i = 0; i < 256; i++) {\n\t        var c = i;\n\t        for (var j = 0; j < 8; j++) {\n\t            if (c & 1) {\n\t                c = -306674912 ^ ((c >> 1) & 0x7fffffff);\n\t            } else {\n\t                c = (c >> 1) & 0x7fffffff;\n\t            }\n\t        }\n\t        _crc32[i] = c;\n\t    }\n\n\t    // compute the index into a png for a given pixel\n\t    this.index = function(x,y) {\n\t        var i = y * (this.width + 1) + x + 1;\n\t        var j = this.idat_offs + 8 + 2 + 5 * Math.floor((i / 0xffff) + 1) + i;\n\t        return j;\n\t    }\n\n\t    // convert a color and build up the palette\n\t    this.color = function(red, green, blue, alpha) {\n\n\t        alpha = alpha >= 0 ? alpha : 255;\n\t        var color = (((((alpha << 8) | red) << 8) | green) << 8) | blue;\n\n\t        if (typeof this.palette[color] == \"undefined\") {\n\t            if (this.pindex == this.depth) return \"\\x00\";\n\n\t            var ndx = this.plte_offs + 8 + 3 * this.pindex;\n\n\t            this.buffer[ndx + 0] = String.fromCharCode(red);\n\t            this.buffer[ndx + 1] = String.fromCharCode(green);\n\t            this.buffer[ndx + 2] = String.fromCharCode(blue);\n\t            this.buffer[this.trns_offs+8+this.pindex] = String.fromCharCode(alpha);\n\n\t            this.palette[color] = String.fromCharCode(this.pindex++);\n\t        }\n\t        return this.palette[color];\n\t    }\n\n\t    // output a PNG string, Base64 encoded\n\t    this.getBase64 = function() {\n\n\t        var s = this.getDump();\n\n\t        var ch = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\t        var c1, c2, c3, e1, e2, e3, e4;\n\t        var l = s.length;\n\t        var i = 0;\n\t        var r = \"\";\n\n\t        do {\n\t            c1 = s.charCodeAt(i);\n\t            e1 = c1 >> 2;\n\t            c2 = s.charCodeAt(i+1);\n\t            e2 = ((c1 & 3) << 4) | (c2 >> 4);\n\t            c3 = s.charCodeAt(i+2);\n\t            if (l < i+2) { e3 = 64; } else { e3 = ((c2 & 0xf) << 2) | (c3 >> 6); }\n\t            if (l < i+3) { e4 = 64; } else { e4 = c3 & 0x3f; }\n\t            r+= ch.charAt(e1) + ch.charAt(e2) + ch.charAt(e3) + ch.charAt(e4);\n\t        } while ((i+= 3) < l);\n\t        return r;\n\t    }\n\n\t    // output a PNG string\n\t    this.getDump = function() {\n\t        // compute adler32 of output pixels + row filter bytes\n\t        var BASE = 65521; /* largest prime smaller than 65536 */\n\t        var NMAX = 5552; /* NMAX is the largest n such that 255n(n+1)/2 + (n+1)(BASE-1) <= 2^32-1 */\n\t        var s1 = 1;\n\t        var s2 = 0;\n\t        var n = NMAX;\n\n\t        for (var y = 0; y < this.height; y++) {\n\t            for (var x = -1; x < this.width; x++) {\n\t                s1+= this.buffer[this.index(x, y)].charCodeAt(0);\n\t                s2+= s1;\n\t                if ((n-= 1) == 0) {\n\t                    s1%= BASE;\n\t                    s2%= BASE;\n\t                    n = NMAX;\n\t                }\n\t            }\n\t        }\n\t        s1%= BASE;\n\t        s2%= BASE;\n\t        write(this.buffer, this.idat_offs + this.idat_size - 8, byte4((s2 << 16) | s1));\n\n\t        // compute crc32 of the PNG chunks\n\t        function crc32(png, offs, size) {\n\t            var crc = -1;\n\t            for (var i = 4; i < size-4; i += 1) {\n\t                crc = _crc32[(crc ^ png[offs+i].charCodeAt(0)) & 0xff] ^ ((crc >> 8) & 0x00ffffff);\n\t            }\n\t            write(png, offs+size-4, byte4(crc ^ -1));\n\t        }\n\n\t        crc32(this.buffer, this.ihdr_offs, this.ihdr_size);\n\t        crc32(this.buffer, this.plte_offs, this.plte_size);\n\t        crc32(this.buffer, this.trns_offs, this.trns_size);\n\t        crc32(this.buffer, this.idat_offs, this.idat_size);\n\t        crc32(this.buffer, this.iend_offs, this.iend_size);\n\n\t        // convert PNG to string\n\t        return \"\\x89PNG\\r\\n\\x1a\\n\" + this.buffer.join('');\n\t    }\n\t};\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t// https://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion\n\t/**\n\t * Converts an HSL color value to RGB. Conversion formula\n\t * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n\t * Assumes h, s, and l are contained in the set [0, 1] and\n\t * returns r, g, and b in the set [0, 255].\n\t *\n\t * @param   {number}  h       The hue\n\t * @param   {number}  s       The saturation\n\t * @param   {number}  l       The lightness\n\t * @return  {Array}           The RGB representation\n\t */\n\n\t function hue2rgb(p, q, t) {\n\t   if(t < 0) t += 1;\n\t   if(t > 1) t -= 1;\n\t   if(t < 1/6) return p + (q - p) * 6 * t;\n\t   if(t < 1/2) return q;\n\t   if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n\t   return p;\n\t }\n\n\tfunction hsl2rgb(h, s, l){\n\t  let r, g, b;\n\n\t  if (s == 0) {\n\t    r = g = b = l; // achromatic\n\t  } else {\n\t    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n\t    const p = 2 * l - q;\n\t    r = hue2rgb(p, q, h + 1/3);\n\t    g = hue2rgb(p, q, h);\n\t    b = hue2rgb(p, q, h - 1/3);\n\t  }\n\n\t  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), 255];\n\t}\n\n\tmodule.exports = hsl2rgb;\n\n\n/***/ }\n/******/ ])\n});\n;","export var Method;\n(function (Method) {\n    Method[\"GET_DATA_LEGACY\"] = \"getDataLegacy\";\n    Method[\"GET_DATA\"] = \"getData\";\n    Method[\"DATA_COUNT\"] = \"dataCount\";\n    Method[\"ALL_DATA\"] = \"allData\";\n    Method[\"OWNER\"] = \"owner\";\n    Method[\"SUPPORTS_INTERFACE\"] = \"supportsInterface\";\n})(Method || (Method = {}));\nexport var Encoding;\n(function (Encoding) {\n    Encoding[\"BYTES\"] = \"bytes\";\n    Encoding[\"BOOL\"] = \"bool\";\n    Encoding[\"UINT256\"] = \"uint256\";\n    Encoding[\"BYTES32_ARRAY\"] = \"bytes32[]\";\n    Encoding[\"BYTES_ARRAY\"] = \"bytes[]\";\n    Encoding[\"ADDRESS\"] = \"address\";\n})(Encoding || (Encoding = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWV0aG9kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3R5cGVzL01ldGhvZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQU4sSUFBWSxNQU9YO0FBUEQsV0FBWSxNQUFNO0lBQ2hCLDJDQUFpQyxDQUFBO0lBQ2pDLDhCQUFvQixDQUFBO0lBQ3BCLGtDQUF3QixDQUFBO0lBQ3hCLDhCQUFvQixDQUFBO0lBQ3BCLHlCQUFlLENBQUE7SUFDZixrREFBd0MsQ0FBQTtBQUMxQyxDQUFDLEVBUFcsTUFBTSxLQUFOLE1BQU0sUUFPakI7QUFFRCxNQUFNLENBQU4sSUFBWSxRQU9YO0FBUEQsV0FBWSxRQUFRO0lBQ2xCLDJCQUFlLENBQUE7SUFDZix5QkFBYSxDQUFBO0lBQ2IsK0JBQW1CLENBQUE7SUFDbkIsdUNBQTJCLENBQUE7SUFDM0IsbUNBQXVCLENBQUE7SUFDdkIsK0JBQW1CLENBQUE7QUFDckIsQ0FBQyxFQVBXLFFBQVEsS0FBUixRQUFRLFFBT25CIn0=","/* eslint-disable @typescript-eslint/ban-types */\nimport { numberToHex, keccak256 } from 'web3-utils';\nimport { Encoding, Method } from '../types/Method';\n// https://github.com/ERC725Alliance/ERC725/blob/develop/docs/ERC-725.md#specification\nexport const INTERFACE_IDS = {\n    ERC725Y_LEGACY: '0x2bd57b73',\n    ERC725Y: '0x5a988c0f',\n};\nexport var ERC725_VERSION;\n(function (ERC725_VERSION) {\n    ERC725_VERSION[\"ERC725\"] = \"ERC725\";\n    ERC725_VERSION[\"ERC725_LEGACY\"] = \"ERC725_LEGACY\";\n    ERC725_VERSION[\"NOT_ERC725\"] = \"NOT_ERC725\";\n})(ERC725_VERSION || (ERC725_VERSION = {}));\nexport const METHODS = {\n    [Method.GET_DATA_LEGACY]: {\n        sig: '0x54f6127f',\n        gas: numberToHex(2000000),\n        gasPrice: numberToHex(100000000),\n        value: numberToHex(0),\n        returnEncoding: Encoding.BYTES,\n    },\n    [Method.GET_DATA]: {\n        sig: '0x4e3e6e9c',\n        gas: numberToHex(2000000),\n        gasPrice: numberToHex(100000000),\n        value: numberToHex(0),\n        returnEncoding: Encoding.BYTES_ARRAY,\n    },\n    [Method.DATA_COUNT]: {\n        sig: '0x5da40c47',\n        gas: numberToHex(2000000),\n        gasPrice: numberToHex(100000000),\n        value: numberToHex(0),\n        returnEncoding: Encoding.UINT256,\n    },\n    [Method.ALL_DATA]: {\n        sig: '0xc559acef',\n        gas: numberToHex(2000000),\n        gasPrice: numberToHex(100000000),\n        value: numberToHex(0),\n        returnEncoding: Encoding.BYTES32_ARRAY,\n    },\n    [Method.OWNER]: {\n        sig: '0x8da5cb5b',\n        gas: numberToHex(2000000),\n        gasPrice: numberToHex(100000000),\n        value: numberToHex(0),\n        returnEncoding: Encoding.ADDRESS,\n    },\n    [Method.SUPPORTS_INTERFACE]: {\n        sig: '0x01ffc9a7',\n        gas: numberToHex(2000000),\n        gasPrice: numberToHex(100000000),\n        value: numberToHex(0),\n        returnEncoding: Encoding.BOOL,\n    },\n};\nexport var SUPPORTED_HASH_FUNCTION_STRINGS;\n(function (SUPPORTED_HASH_FUNCTION_STRINGS) {\n    SUPPORTED_HASH_FUNCTION_STRINGS[\"KECCAK256_UTF8\"] = \"keccak256(utf8)\";\n    SUPPORTED_HASH_FUNCTION_STRINGS[\"KECCAK256_BYTES\"] = \"keccak256(bytes)\";\n})(SUPPORTED_HASH_FUNCTION_STRINGS || (SUPPORTED_HASH_FUNCTION_STRINGS = {}));\nexport var SUPPORTED_HASH_FUNCTION_HASHES;\n(function (SUPPORTED_HASH_FUNCTION_HASHES) {\n    SUPPORTED_HASH_FUNCTION_HASHES[\"HASH_KECCAK256_UTF8\"] = \"0x6f357c6a\";\n    SUPPORTED_HASH_FUNCTION_HASHES[\"HASH_KECCAK256_BYTES\"] = \"0x8019f9b1\";\n})(SUPPORTED_HASH_FUNCTION_HASHES || (SUPPORTED_HASH_FUNCTION_HASHES = {}));\nexport const SUPPORTED_HASH_FUNCTIONS_LIST = Object.values(SUPPORTED_HASH_FUNCTION_STRINGS);\nfunction keccak256Utf8(data) {\n    return keccak256(JSON.stringify(data));\n}\nconst KECCAK256_UTF8 = {\n    method: keccak256Utf8,\n    name: SUPPORTED_HASH_FUNCTION_STRINGS.KECCAK256_UTF8,\n    sig: SUPPORTED_HASH_FUNCTION_HASHES.HASH_KECCAK256_UTF8,\n};\nconst KECCAK256_BYTES = {\n    method: keccak256,\n    name: SUPPORTED_HASH_FUNCTION_STRINGS.KECCAK256_BYTES,\n    sig: SUPPORTED_HASH_FUNCTION_HASHES.HASH_KECCAK256_BYTES,\n};\nexport const HASH_FUNCTIONS = {\n    [SUPPORTED_HASH_FUNCTION_STRINGS.KECCAK256_UTF8]: KECCAK256_UTF8,\n    [SUPPORTED_HASH_FUNCTION_HASHES.HASH_KECCAK256_UTF8]: KECCAK256_UTF8,\n    [SUPPORTED_HASH_FUNCTION_STRINGS.KECCAK256_BYTES]: KECCAK256_BYTES,\n    [SUPPORTED_HASH_FUNCTION_HASHES.HASH_KECCAK256_BYTES]: KECCAK256_BYTES,\n};\n// TODO: These values can be imported from lsp-smartcontracts lib after release\nexport const LSP6_DEFAULT_PERMISSIONS = {\n    CHANGEOWNER: '0x0000000000000000000000000000000000000000000000000000000000000001',\n    CHANGEPERMISSIONS: '0x0000000000000000000000000000000000000000000000000000000000000002',\n    ADDPERMISSIONS: '0x0000000000000000000000000000000000000000000000000000000000000004',\n    SETDATA: '0x0000000000000000000000000000000000000000000000000000000000000008',\n    CALL: '0x0000000000000000000000000000000000000000000000000000000000000010',\n    STATICCALL: '0x0000000000000000000000000000000000000000000000000000000000000020',\n    DELEGATECALL: '0x0000000000000000000000000000000000000000000000000000000000000040',\n    DEPLOY: '0x0000000000000000000000000000000000000000000000000000000000000080',\n    TRANSFERVALUE: '0x0000000000000000000000000000000000000000000000000000000000000100',\n    SIGN: '0x0000000000000000000000000000000000000000000000000000000000000200',\n};\nexport const LSP6_ALL_PERMISSIONS = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9jb25zdGFudHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaURBQWlEO0FBQ2pELE9BQU8sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRXBELE9BQU8sRUFBYyxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFL0Qsc0ZBQXNGO0FBQ3RGLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRztJQUMzQixjQUFjLEVBQUUsWUFBWTtJQUM1QixPQUFPLEVBQUUsWUFBWTtDQUN0QixDQUFDO0FBRUYsTUFBTSxDQUFOLElBQVksY0FJWDtBQUpELFdBQVksY0FBYztJQUN4QixtQ0FBaUIsQ0FBQTtJQUNqQixpREFBK0IsQ0FBQTtJQUMvQiwyQ0FBeUIsQ0FBQTtBQUMzQixDQUFDLEVBSlcsY0FBYyxLQUFkLGNBQWMsUUFJekI7QUFFRCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQStCO0lBQ2pELENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxFQUFFO1FBQ3hCLEdBQUcsRUFBRSxZQUFZO1FBQ2pCLEdBQUcsRUFBRSxXQUFXLENBQUMsT0FBTyxDQUFDO1FBQ3pCLFFBQVEsRUFBRSxXQUFXLENBQUMsU0FBUyxDQUFDO1FBQ2hDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ3JCLGNBQWMsRUFBRSxRQUFRLENBQUMsS0FBSztLQUMvQjtJQUNELENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQ2pCLEdBQUcsRUFBRSxZQUFZO1FBQ2pCLEdBQUcsRUFBRSxXQUFXLENBQUMsT0FBTyxDQUFDO1FBQ3pCLFFBQVEsRUFBRSxXQUFXLENBQUMsU0FBUyxDQUFDO1FBQ2hDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ3JCLGNBQWMsRUFBRSxRQUFRLENBQUMsV0FBVztLQUNyQztJQUNE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","import * as abi from 'web3-eth-abi';\nimport { METHODS } from './constants';\nlet idCount = 0;\n// @ts-ignore\nconst web3abiDecoder = abi.default;\nexport function decodeResult(method, result) {\n    const rpcResult = result.result;\n    if (rpcResult === '0x') {\n        return null;\n    }\n    const decodedData = web3abiDecoder.decodeParameter(METHODS[method].returnEncoding, rpcResult);\n    if (Array.isArray(decodedData) &&\n        decodedData.length === 1 &&\n        decodedData[0] === '0x') {\n        return [null];\n    }\n    return decodedData;\n}\nexport function constructJSONRPC(address, method, methodParam) {\n    const data = methodParam\n        ? METHODS[method].sig + methodParam.replace('0x', '')\n        : METHODS[method].sig;\n    idCount += 1;\n    return {\n        jsonrpc: '2.0',\n        method: 'eth_call',\n        params: [\n            {\n                to: address,\n                gas: METHODS[method].gas,\n                gasPrice: METHODS[method].gasPrice,\n                value: METHODS[method].value,\n                data,\n            },\n        ],\n        id: idCount,\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXItd3JhcHBlci11dGlscy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvcHJvdmlkZXItd3JhcHBlci11dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssR0FBRyxNQUFNLGNBQWMsQ0FBQztBQUtwQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRXRDLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQztBQUNoQixhQUFhO0FBQ2IsTUFBTSxjQUFjLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQztBQUVuQyxNQUFNLFVBQVUsWUFBWSxDQUFDLE1BQWMsRUFBRSxNQUFNO0lBQ2pELE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFFaEMsSUFBSSxTQUFTLEtBQUssSUFBSSxFQUFFO1FBQ3RCLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFFRCxNQUFNLFdBQVcsR0FBRyxjQUFjLENBQUMsZUFBZSxDQUNoRCxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsY0FBYyxFQUM5QixTQUFTLENBQ1YsQ0FBQztJQUVGLElBQ0UsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUM7UUFDMUIsV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDO1FBQ3hCLFdBQVcsQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLEVBQ3ZCO1FBQ0EsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2Y7SUFFRCxPQUFPLFdBQVcsQ0FBQztBQUNyQixDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUM5QixPQUFlLEVBQ2YsTUFBYyxFQUNkLFdBQW9CO0lBRXBCLE1BQU0sSUFBSSxHQUFHLFdBQVc7UUFDdEIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDO1FBQ3JELENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDO0lBRXhCLE9BQU8sSUFBSSxDQUFDLENBQUM7SUFFYixPQUFPO1FBQ0wsT0FBTyxFQUFFLEtBQUs7UUFDZCxNQUFNLEVBQUUsVUFBVTtRQUNsQixNQUFNLEVBQUU7WUFDTjtnQkFDRSxFQUFFLEVBQUUsT0FBTztnQkFDWCxHQUFHLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUc7Z0JBQ3hCLFFBQVEsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUTtnQkFDbEMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLO2dCQUM1QixJQUFJO2FBQ0w7U0FDRjtRQUNELEVBQUUsRUFBRSxPQUFPO0tBQ1osQ0FBQztBQUNKLENBQUMifQ==","/*\n    This file is part of @erc725/erc725.js.\n    @erc725/erc725.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n    @erc725/erc725.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file providers/web3ProviderWrapper.ts\n * @author Robert McLeod <@robertdavid010>, Fabian Vogelsteller <fabian@lukso.network>\n * @date 2020\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/*\n  This file will handle querying the Ethereum web3 rpc based on a given provider\n  in accordance with implementation of smart contract interfaces of ERC725\n*/\nimport AbiCoder from 'web3-eth-abi';\nimport { Method } from '../types/Method';\nimport { constructJSONRPC, decodeResult } from '../lib/provider-wrapper-utils';\nimport { ERC725_VERSION, INTERFACE_IDS } from '../lib/constants';\n// TS can't get the types from the import...\n// @ts-ignore\nconst abiCoder = AbiCoder;\nexport class Web3ProviderWrapper {\n    constructor(provider) {\n        this.type = \"WEB3\" /* WEB3 */;\n        this.provider = provider;\n    }\n    getOwner(address) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = yield this.callContract(constructJSONRPC(address, Method.OWNER));\n            if (result.error) {\n                throw result.error;\n            }\n            return decodeResult(Method.OWNER, result);\n        });\n    }\n    getErc725YVersion(address) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const isErc725Y = yield this.supportsInterface(address, INTERFACE_IDS.ERC725Y);\n            if (isErc725Y) {\n                return ERC725_VERSION.ERC725;\n            }\n            const isErc725YLegacy = yield this.supportsInterface(address, INTERFACE_IDS.ERC725Y_LEGACY);\n            return isErc725YLegacy\n                ? ERC725_VERSION.ERC725_LEGACY\n                : ERC725_VERSION.NOT_ERC725;\n        });\n    }\n    /**\n     * https://eips.ethereum.org/EIPS/eip-165\n     *\n     * @param address the smart contract address\n     * @param interfaceId ERC-165 identifier as described here: https://github.com/ERC725Alliance/ERC725/blob/develop/docs/ERC-725.md#specification\n     */\n    supportsInterface(address, interfaceId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return decodeResult(Method.SUPPORTS_INTERFACE, yield this.callContract(constructJSONRPC(address, Method.SUPPORTS_INTERFACE, `${interfaceId}${'00000000000000000000000000000000000000000000000000000000'}`)));\n        });\n    }\n    getData(address, keyHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = yield this.getAllData(address, [keyHash]);\n            try {\n                return result[0].value;\n            }\n            catch (_a) {\n                return null;\n            }\n        });\n    }\n    getAllData(address, keyHashes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const erc725Version = yield this.getErc725YVersion(address);\n            if (erc725Version === ERC725_VERSION.NOT_ERC725) {\n                throw new Error(`Contract: ${address} does not support ERC725Y interface.`);\n            }\n            switch (erc725Version) {\n                case ERC725_VERSION.ERC725:\n                    return this._getAllData(address, keyHashes);\n                case ERC725_VERSION.ERC725_LEGACY:\n                    return this._getAllDataLegacy(address, keyHashes);\n                default:\n                    return [];\n            }\n        });\n    }\n    _getAllData(address, keyHashes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = [\n                constructJSONRPC(address, Method.GET_DATA, abiCoder.encodeParameter('bytes32[]', keyHashes)),\n            ];\n            const results = yield this.callContract(payload);\n            const decodedValues = decodeResult(Method.GET_DATA, results[0]);\n            return keyHashes.map((key, index) => ({\n                key,\n                value: decodedValues[index],\n            }));\n        });\n    }\n    _getAllDataLegacy(address, keyHashes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const payload = [];\n            // Here we could use `getDataMultiple` instead of sending multiple calls to `getData`\n            // But this is already legacy and it won't be used anymore..\n            for (let index = 0; index < keyHashes.length; index++) {\n                payload.push(constructJSONRPC(address, Method.GET_DATA_LEGACY, keyHashes[index]));\n            }\n            const results = yield this.callContract(payload);\n            return payload.map((payloadCall, index) => ({\n                key: keyHashes[index],\n                value: decodeResult(Method.GET_DATA_LEGACY, results.find((element) => payloadCall.id === element.id)),\n            }));\n        });\n    }\n    callContract(payload) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                // Send old web3 method with callback to resolve promise\n                this.provider.send(payload, (e, r) => {\n                    if (e) {\n                        reject(e);\n                    }\n                    else {\n                        resolve(r);\n                    }\n                });\n            });\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViM1Byb3ZpZGVyV3JhcHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9wcm92aWRlcnMvd2ViM1Byb3ZpZGVyV3JhcHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O0VBWUU7QUFDRjs7OztHQUlHOzs7Ozs7Ozs7O0FBRUg7OztFQUdFO0FBRUYsT0FBTyxRQUFRLE1BQU0sY0FBYyxDQUFDO0FBR3BDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN6QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFFL0UsT0FBTyxFQUFFLGNBQWMsRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRSw0Q0FBNEM7QUFDNUMsYUFBYTtBQUNiLE1BQU0sUUFBUSxHQUFzQixRQUFRLENBQUM7QUFPN0MsTUFBTSxPQUFPLG1CQUFtQjtJQUc5QixZQUFZLFFBQWE7UUFDdkIsSUFBSSxDQUFDLElBQUksb0JBQXFCLENBQUM7UUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDM0IsQ0FBQztJQUVLLFFBQVEsQ0FBQyxPQUFlOztZQUM1QixNQUFNLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZLENBQ3BDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQ3hDLENBQUM7WUFDRixJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUU7Z0JBQ2hCLE1BQU0sTUFBTSxDQUFDLEtBQUssQ0FBQzthQUNwQjtZQUVELE9BQU8sWUFBWSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDNUMsQ0FBQztLQUFBO0lBRUssaUJBQWlCLENBQUMsT0FBZTs7WUFDckMsTUFBTSxTQUFTLEdBQUcsTUFBTSxJQUFJLENBQUMsaUJBQWlCLENBQzVDLE9BQU8sRUFDUCxhQUFh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","/*\n    This file is part of @erc725/erc725.js.\n    @erc725/erc725.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n    @erc725/erc725.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file providers/ethereumProviderWrapper.ts\n * @author Robert McLeod <@robertdavid010>, Fabian Vogelsteller <fabian@lukso.network>\n * @date 2020\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/*\n  This file will handle querying the Ethereum provider api in accordance with\n  implementation of smart contract interfaces of ERC725\n*/\nimport * as abi from 'web3-eth-abi';\nimport { ERC725_VERSION, INTERFACE_IDS, METHODS } from '../lib/constants';\nimport { decodeResult as decodeResultUtils } from '../lib/provider-wrapper-utils';\nimport { Method } from '../types/Method';\n// @ts-ignore\nconst abiCoder = abi.default;\n// https://docs.metamask.io/guide/ethereum-provider.html\nexport class EthereumProviderWrapper {\n    constructor(provider) {\n        this.type = \"ETHEREUM\" /* ETHEREUM */;\n        this.provider = provider;\n    }\n    getOwner(address) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const params = this.constructJSONRPC(address, Method.OWNER);\n            const result = yield this.callContract([params]);\n            if (result.error) {\n                throw result.error;\n            }\n            return this.decodeResult(Method.OWNER, result);\n        });\n    }\n    getErc725YVersion(address) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const isErc725Y = yield this.supportsInterface(address, INTERFACE_IDS.ERC725Y);\n            if (isErc725Y) {\n                return ERC725_VERSION.ERC725;\n            }\n            const isErc725YLegacy = yield this.supportsInterface(address, INTERFACE_IDS.ERC725Y_LEGACY);\n            return isErc725YLegacy\n                ? ERC725_VERSION.ERC725_LEGACY\n                : ERC725_VERSION.NOT_ERC725;\n        });\n    }\n    /**\n     * https://eips.ethereum.org/EIPS/eip-165\n     *\n     * @param address the smart contract address\n     * @param interfaceId ERC-165 identifier as described here: https://github.com/ERC725Alliance/ERC725/blob/develop/docs/ERC-725.md#specification\n     */\n    supportsInterface(address, interfaceId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.decodeResult(Method.SUPPORTS_INTERFACE, yield this.callContract([\n                this.constructJSONRPC(address, Method.SUPPORTS_INTERFACE, `${interfaceId}${'00000000000000000000000000000000000000000000000000000000'}`),\n            ]));\n        });\n    }\n    getData(address, keyHash) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = this.getAllData(address, [keyHash]);\n            try {\n                return result[0].value;\n            }\n            catch (_a) {\n                return null;\n            }\n        });\n    }\n    getAllData(address, keyHashes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const erc725Version = yield this.getErc725YVersion(address);\n            if (erc725Version === ERC725_VERSION.NOT_ERC725) {\n                throw new Error(`Contract: ${address} does not support ERC725Y interface.`);\n            }\n            switch (erc725Version) {\n                case ERC725_VERSION.ERC725:\n                    return this._getAllData(address, keyHashes);\n                case ERC725_VERSION.ERC725_LEGACY:\n                    return this._getAllDataLegacy(address, keyHashes);\n                default:\n                    return [];\n            }\n        });\n    }\n    _getAllData(address, keyHashes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const encodedResults = yield this.callContract([\n                this.constructJSONRPC(address, Method.GET_DATA, abiCoder.encodeParameter('bytes32[]', keyHashes)),\n            ]);\n            const decodedValues = this.decodeResult(Method.GET_DATA, encodedResults);\n            return keyHashes.map((keyHash, index) => ({\n                key: keyHash,\n                value: decodedValues[index],\n            }));\n        });\n    }\n    _getAllDataLegacy(address, keyHashes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Here we could use `getDataMultiple` instead of sending multiple calls to `getData`\n            // But this is already legacy and it won't be used anymore..\n            const encodedResultsPromises = keyHashes.map((keyHash) => this.callContract([\n                this.constructJSONRPC(address, Method.GET_DATA_LEGACY, keyHash),\n            ]));\n            const decodedResults = yield Promise.all(encodedResultsPromises);\n            return decodedResults.map((decodedResult, index) => ({\n                key: keyHashes[index],\n                value: this.decodeResult(Method.GET_DATA_LEGACY, decodedResult),\n            }));\n        });\n    }\n    // eslint-disable-next-line class-methods-use-this\n    constructJSONRPC(address, method, methodParam) {\n        const data = methodParam\n            ? METHODS[method].sig + methodParam.replace('0x', '')\n            : METHODS[method].sig;\n        return {\n            to: address,\n            gas: METHODS[method].gas,\n            gasPrice: METHODS[method].gasPrice,\n            value: METHODS[method].value,\n            data,\n        };\n    }\n    callContract(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.provider.request({ method: 'eth_call', params });\n        });\n    }\n    // eslint-disable-next-line class-methods-use-this\n    decodeResult(method, result) {\n        return decodeResultUtils(method, { result });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXRoZXJldW1Qcm92aWRlcldyYXBwZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcHJvdmlkZXJzL2V0aGVyZXVtUHJvdmlkZXJXcmFwcGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7RUFZRTtBQUNGOzs7O0dBSUc7Ozs7Ozs7Ozs7QUFFSDs7O0VBR0U7QUFFRixPQUFPLEtBQUssR0FBRyxNQUFNLGNBQWMsQ0FBQztBQUVwQyxPQUFPLEVBQUUsY0FBYyxFQUFFLGFBQWEsRUFBRSxPQUFPLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMxRSxPQUFPLEVBQUUsWUFBWSxJQUFJLGlCQUFpQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFFbEYsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBR3pDLGFBQWE7QUFDYixNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDO0FBTzdCLHdEQUF3RDtBQUN4RCxNQUFNLE9BQU8sdUJBQXVCO0lBR2xDLFlBQVksUUFBYTtRQUN2QixJQUFJLENBQUMsSUFBSSw0QkFBeUIsQ0FBQztRQUNuQyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztJQUMzQixDQUFDO0lBRUssUUFBUSxDQUFDLE9BQWU7O1lBQzVCLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVELE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDakQsSUFBSSxNQUFNLENBQUMsS0FBSyxFQUFFO2dCQUNoQixNQUFNLE1BQU0sQ0FBQyxLQUFLLENBQUM7YUFDcEI7WUFFRCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztRQUNqRCxDQUFD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","/*\n    This file is part of @erc725/erc725.js.\n    @erc725/erc725.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n    @erc725/erc725.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n    You should have received a copy of the GNU Lesser General Public License\n    along with @erc725/erc725.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file lib/encoder.ts\n * @author Robert McLeod <@robertdavid010>, Fabian Vogelsteller <fabian@lukso.network>\n * @date 2020\n */\n/*\n  this handles encoding and decoding as per necessary for the erc725 schema specifications\n*/\nimport AbiCoder from 'web3-eth-abi';\nimport { hexToNumber, hexToUtf8, isAddress, keccak256, numberToHex, padLeft, toChecksumAddress, utf8ToHex, } from 'web3-utils';\nimport { SUPPORTED_HASH_FUNCTION_STRINGS, } from './constants';\nimport { getHashFunction, hashData } from './utils';\nconst encodeDataSourceWithHash = (hashType, dataHash, dataSource) => {\n    const hashFunction = getHashFunction(hashType);\n    return (keccak256(hashFunction.name).substr(0, 10) +\n        dataHash.substr(2) +\n        utf8ToHex(dataSource).substr(2));\n};\n// TS can't get the types from the import...\n// @ts-ignore\nconst abiCoder = AbiCoder;\nconst decodeDataSourceWithHash = (value) => {\n    const hashFunctionSig = value.substr(0, 10);\n    const hashFunction = getHashFunction(hashFunctionSig);\n    const encodedData = value.replace('0x', '').substr(8); // Rest of data string after function hash\n    const dataHash = '0x' + encodedData.substr(0, 64); // Get jsonHash 32 bytes\n    const dataSource = hexToUtf8('0x' + encodedData.substr(64)); // Get remainder as URI\n    return { hashFunction: hashFunction.name, hash: dataHash, url: dataSource };\n};\nconst valueTypeEncodingMap = {\n    string: {\n        encode: (value) => abiCoder.encodeParameter('string', value),\n        decode: (value) => abiCoder.decodeParameter('string', value),\n    },\n    address: {\n        encode: (value) => abiCoder.encodeParameter('address', value),\n        decode: (value) => abiCoder.decodeParameter('address', value),\n    },\n    // NOTE: We could add conditional handling of numeric values here...\n    uint256: {\n        encode: (value) => abiCoder.encodeParameter('uint256', value),\n        decode: (value) => abiCoder.decodeParameter('uint256', value),\n    },\n    bytes32: {\n        encode: (value) => abiCoder.encodeParameter('bytes32', value),\n        decode: (value) => abiCoder.decodeParameter('bytes32', value),\n    },\n    bytes4: {\n        encode: (value) => abiCoder.encodeParameter('bytes4', value),\n        decode: (value) => abiCoder.decodeParameter('bytes4', value),\n    },\n    bytes: {\n        encode: (value) => abiCoder.encodeParameter('bytes', value),\n        decode: (value) => abiCoder.decodeParameter('bytes', value),\n    },\n    'string[]': {\n        encode: (value) => abiCoder.encodeParameter('string[]', value),\n        decode: (value) => abiCoder.decodeParameter('string[]', value),\n    },\n    'address[]': {\n        encode: (value) => abiCoder.encodeParameter('address[]', value),\n        decode: (value) => abiCoder.decodeParameter('address[]', value),\n    },\n    'uint256[]': {\n        encode: (value) => abiCoder.encodeParameter('uint256[]', value),\n        decode: (value) => abiCoder.decodeParameter('uint256[]', value),\n    },\n    'bytes32[]': {\n        encode: (value) => abiCoder.encodeParameter('bytes32[]', value),\n        decode: (value) => abiCoder.decodeParameter('bytes32[]', value),\n    },\n    'bytes4[]': {\n        encode: (value) => abiCoder.encodeParameter('bytes4[]', value),\n        decode: (value) => abiCoder.decodeParameter('bytes4[]', value),\n    },\n    'bytes[]': {\n        encode: (value) => abiCoder.encodeParameter('bytes[]', value),\n        decode: (value) => abiCoder.decodeParameter('bytes[]', value),\n    },\n};\n// Use enum for type bellow\n// Is it this enum ERC725JSONSchemaValueType? (If so, custom is missing from enum)\nexport const valueContentEncodingMap = {\n    Keccak256: {\n        type: 'bytes32',\n        encode: (value) => value,\n        decode: (value) => value,\n    },\n    // NOTE: Deprecated. For reference/testing in future\n    ArrayLength: {\n        type: 'uint256',\n        encode: (value) => padLeft(numberToHex(value), 64),\n        decode: (value) => hexToNumber(value),\n    },\n    Number: {\n        type: 'uint256',\n        // NOTE: extra logic is to handle and always return a string number\n        encode: (value) => {\n            let parsedValue;\n            try {\n                parsedValue = parseInt(value, 10);\n            }\n            catch (error) {\n                throw new Error(error);\n            }\n            return padLeft(numberToHex(parsedValue), 64);\n        },\n        decode: (value) => '' + hexToNumber(value),\n    },\n    // NOTE: This is not symmetrical, and always returns a checksummed address\n    Address: {\n        type: 'address',\n        encode: (value) => {\n            if (isAddress(value)) {\n                return value.toLowerCase();\n            }\n            throw new Error('Address: \"' + value + '\" is an invalid address.');\n        },\n        decode: (value) => toChecksumAddress(value),\n    },\n    String: {\n        type: 'string',\n        encode: (value) => utf8ToHex(value),\n        decode: (value) => hexToUtf8(value),\n    },\n    Markdown: {\n        type: 'string',\n        encode: (value) => utf8ToHex(value),\n        decode: (value) => hexToUtf8(value),\n    },\n    URL: {\n        type: 'string',\n        encode: (value) => utf8ToHex(value),\n        decode: (value) => hexToUtf8(value),\n    },\n    AssetURL: {\n        type: 'custom',\n        encode: (value) => encodeDataSourceWithHash(value.hashFunction, value.hash, value.url),\n        decode: (value) => decodeDataSourceWithHash(value),\n    },\n    // https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#jsonurl\n    JSONURL: {\n        type: 'custom',\n        encode: (dataToEncode) => {\n            const { hash, json, hashFunction, url } = dataToEncode;\n            let hashedJson = hash;\n            if (json) {\n                if (hashFunction) {\n                    throw new Error('When passing in the `json` property, we use \"keccak256(utf8)\" as a default hashingFunction. You do not need to set a `hashFunction`.');\n                }\n                hashedJson = hashData(json, SUPPORTED_HASH_FUNCTION_STRINGS.KECCAK256_UTF8);\n            }\n            if (!hashedJson) {\n                throw new Error('You have to provide either the hash or the json via the respective properties');\n            }\n            return encodeDataSourceWithHash(hashFunction || SUPPORTED_HASH_FUNCTION_STRINGS.KECCAK256_UTF8, hashedJson, url);\n        },\n        decode: (dataToDecode) => decodeDataSourceWithHash(dataToDecode),\n    },\n};\nexport function encodeValueType(type, value) {\n    if (!valueTypeEncodingMap[type]) {\n        throw new Error('Could not encode valueType: \"' + type + '\".');\n    }\n    return value ? valueTypeEncodingMap[type].encode(value) : value;\n}\nexport function decodeValueType(type, value) {\n    if (!valueTypeEncodingMap[type]) {\n        throw new Error('Could not decode valueType: \"' + type + '\".');\n    }\n    if (value === '0x')\n        return null;\n    return value ? valueTypeEncodingMap[type].decode(value) : value;\n}\nexport function encodeValueContent(type, value) {\n    if (!valueContentEncodingMap[type] && type.substr(0, 2) !== '0x') {\n        throw new Error('Could not encode valueContent: \"' + type + '\".');\n    }\n    else if (type.substr(0, 2) === '0x') {\n        return type === value ? value : false;\n    }\n    return value ? valueContentEncodingMap[type].encode(value) : '0x';\n}\nexport function decodeValueContent(type, value) {\n    if (!valueContentEncodingMap[type] && type.substr(0, 2) !== '0x') {\n        throw new Error('Could not decode valueContent: \"' + type + '\".');\n    }\n    else if (type.substr(0, 2) === '0x') {\n        return type === value ? value : false;\n    }\n    return value ? valueContentEncodingMap[type].decode(value) : value;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW5jb2Rlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvZW5jb2Rlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7O0VBWUU7QUFDRjs7OztHQUlHO0FBRUg7O0VBRUU7QUFFRixPQUFPLFFBQVEsTUFBTSxjQUFjLENBQUM7QUFFcEMsT0FBTyxFQUNMLFdBQVcsRUFDWCxTQUFTLEVBQ1QsU0FBUyxFQUNULFNBQVMsRUFDVCxXQUFXLEVBQ1gsT0FBTyxFQUNQLGlCQUFpQixFQUNqQixTQUFTLEdBQ1YsTUFBTSxZQUFZLENBQUM7QUFJcEIsT0FBTyxFQUVMLCtCQUErQixHQUNoQyxNQUFNLGFBQWEsQ0FBQztBQUNyQixPQUFPLEVBQUUsZUFBZSxFQUFFLFFBQVEsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUVwRCxNQUFNLHdCQUF3QixHQUFHLENBQy9CLFFBQWtDLEVBQ2xDLFFBQWdCLEVBQ2hCLFVBQWtCLEVBQ1YsRUFBRTtJQUNWLE1BQU0sWUFBWSxHQUFHLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUUvQyxPQUFPLENBQ0wsU0FBUyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUMxQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNsQixTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUNoQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsNENBQTRDO0FBQzVDLGFBQWE7QUFDYixNQUFNLFFBQVEsR0FBc0IsUUFBUSxDQUFDO0FBRTdDLE1BQU0sd0JBQXdCLEdBQUcsQ0FBQyxLQUFhLEVBQW1CLEVBQUU7SUFDbEUsTUFBTSxlQUFlLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDNUMsTUFBTSxZQUFZLEdBQUcsZUFBZSxDQUFD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","/*\n    This file is part of @erc725/erc725.js.\n    @erc725/erc725.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n    @erc725/erc725.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file lib/utils.ts\n * @author Robert McLeod <@robertdavid010>, Fabian Vogelsteller <fabian@lukso.network>\n * @date 2020\n */\nimport { checkAddressChecksum, isAddress, keccak256, numberToHex, padLeft, } from 'web3-utils';\nimport { HASH_FUNCTIONS, SUPPORTED_HASH_FUNCTIONS_LIST, } from './constants';\nimport { decodeValueContent, decodeValueType, encodeValueContent, encodeValueType, valueContentEncodingMap as valueContentMap, } from './encoder';\n/**\n *\n * @param {string} valueContent as per ERC725Schema definition\n * @param {string} valueType as per ERC725Schema definition\n * @param value can contain single value, an array, or an object as required by schema (JSONURL, or ASSETURL)\n * @param {string} [name]\n * @return the encoded value as per the schema\n */\nexport function encodeKeyValue(valueContent, valueType, value, name) {\n    const isSupportedValueContent = valueContentMap[valueContent] || valueContent.substr(0, 2) === '0x';\n    if (!isSupportedValueContent) {\n        throw new Error(`The valueContent '${valueContent}' \n            for ${name} is not supported.`);\n    }\n    let result;\n    const sameEncoding = valueContentMap[valueContent] &&\n        valueContentMap[valueContent].type === valueType.split('[]')[0];\n    const isArray = valueType.substr(valueType.length - 2) === '[]';\n    // We only loop if the valueType done by abi.encodeParameter can not handle it directly\n    if (Array.isArray(value) && !sameEncoding) {\n        // value type encoding will handle it?\n        // we handle an array element encoding\n        const results = [];\n        for (let index = 0; index < value.length; index++) {\n            const element = value[index];\n            results.push(encodeValueContent(valueContent, element));\n        }\n        result = results;\n    }\n    else if (!isArray && !Array.isArray(value)) {\n        // Straight forward encode\n        result = encodeValueContent(valueContent, value);\n    }\n    else if (sameEncoding) {\n        result = value; // leaving this for below\n    }\n    if (\n    // and we only skip bytes regardless\n    valueType !== 'bytes' &&\n        // Requires encoding because !sameEncoding means both encodings are required\n        !sameEncoding) {\n        result = encodeValueType(valueType, result);\n    }\n    else if (isArray && sameEncoding) {\n        result = encodeValueType(valueType, result);\n    }\n    return result;\n}\n/**\n *\n * @param key The schema key of a schema with keyType = 'Array'\n * @param index An integer representing the intended array index\n * @return The raw bytes key for the array element\n */\nexport function encodeArrayKey(key, index) {\n    return key.substr(0, 34) + padLeft(numberToHex(index), 32).replace('0x', '');\n}\n/**\n *\n * @param keyName the schema key name\n * @returns a guess of the schema key type\n */\nexport function guessKeyTypeFromKeyName(keyName) {\n    // This function could not work with subsequents keys of an Array\n    // It will always assume the given key, if array, is the initial array key.\n    const splittedKeyName = keyName.split(':');\n    if (splittedKeyName.length === 3) {\n        return 'Bytes20MappingWithGrouping';\n    }\n    if (splittedKeyName.length === 2) {\n        if (splittedKeyName[1].substr(0, 2) === '0x') {\n            return 'Bytes20Mapping';\n        }\n        return 'Mapping';\n    }\n    if (keyName.substring(keyName.length - 2, keyName.length) === '[]') {\n        return 'Array';\n    }\n    return 'Singleton';\n}\n/**\n *\n * @param name the schema element name\n * @return the name of the key encoded as per specifications\n * @return a string of the encoded schema name\n */\nexport function encodeKeyName(name) {\n    const keyType = guessKeyTypeFromKeyName(name);\n    switch (keyType) {\n        case 'Bytes20MappingWithGrouping': {\n            // bytes4(keccak256(FirstWord)) + bytes4(0) + bytes2(keccak256(SecondWord)) + bytes2(0) + bytes20(address)\n            const keyNameSplit = name.split(':');\n            return (keccak256(keyNameSplit[0]).substr(0, 10) +\n                '00000000' +\n                keccak256(keyNameSplit[1]).substr(2, 4) +\n                '0000' +\n                keyNameSplit[2].substr(0, 40));\n        }\n        case 'Bytes20Mapping': {\n            // bytes8(keccak256(FirstWord)) + bytes4(0) + bytes20(address)\n            const keyNameSplit = name.split(':');\n            return (keccak256(keyNameSplit[0]).substr(0, 18) +\n                '00000000' +\n                keyNameSplit[1].substr(2, 40));\n        }\n        case 'Mapping': {\n            // bytes16(keccak256(FirstWord)) + bytes12(0) + bytes4(keccak256(LastWord))\n            const keyNameSplit = name.split(':');\n            return (keccak256(keyNameSplit[0]).substr(0, 34) +\n                '000000000000000000000000' +\n                keccak256(keyNameSplit[1]).substr(2, 8));\n        }\n        case 'Array': // Warning: this can not correctly encode subsequent keys of array, only the initial Array key will work\n        case 'Singleton':\n            return keccak256(name);\n        default:\n            return keccak256(name);\n    }\n}\n/**\n *\n * @param schemas An array of ERC725JSONSchema objects\n * @param {string} key A string of either the schema element name, or key\n * @return The requested schema element from the full array of schemas\n */\nexport function getSchemaElement(schemas, key) {\n    const keyHash = key.substr(0, 2) === '0x' ? key : encodeKeyName(key);\n    const schemaElement = schemas.find((e) => e.key === keyHash);\n    if (!schemaElement) {\n        throw new Error('No matching schema found for key: \"' + key + '\" (' + keyHash + ').');\n    }\n    return schemaElement;\n}\n/**\n *\n * @param schema is an object of a schema definitions\n * @param value will be either key-value pairs for a key type of Array, or a single value for type Singleton\n * @return the encoded value for the key as per the supplied schema\n */\nexport function encodeKey(schema, value) {\n    // NOTE: This will not guarantee order of array as on chain. Assumes developer must set correct order\n    const lowerCaseKeyType = schema.keyType.toLowerCase();\n    switch (lowerCaseKeyType) {\n        case 'array': {\n            if (!Array.isArray(value)) {\n                console.error(\"Can't encode a non array for key of type array\");\n                return null;\n            }\n            const results = [];\n            for (let index = 0; index < value.length; index++) {\n                const dataElement = value[index];\n                if (index === 0) {\n                    // This is arrayLength as the first element in the raw array\n                    results.push({\n                        key: schema.key,\n                        value: encodeKeyValue('Number', 'uint256', value.length.toString(), schema.name),\n                    });\n                }\n                results.push({\n                    key: encodeArrayKey(schema.key, index),\n                    value: encodeKeyValue(schema.valueContent, schema.valueType, dataElement, schema.name),\n                });\n            }\n            return results;\n        }\n        case 'bytes20mapping':\n        case 'bytes20mappingwithgrouping':\n        case 'singleton':\n        case 'mapping':\n            return encodeKeyValue(schema.valueContent, schema.valueType, value, schema.name);\n        default:\n            console.error('Incorrect data match or keyType in schema from encodeKey(): \"' +\n                schema.keyType +\n                '\"');\n            return null;\n    }\n}\n/**\n *\n * @param {string} valueContent as per ERC725Schema definition\n * @param {string} valueType as per ERC725Schema definition\n * @param {string} value the encoded value as string\n * @param {string} [name]\n * @return the decoded value as per the schema\n */\nexport function decodeKeyValue(valueContent, valueType, value, name) {\n    // Check for the missing map.\n    if (!valueContentMap[valueContent] && valueContent.substr(0, 2) !== '0x') {\n        throw new Error('The valueContent \"' +\n            valueContent +\n            '\" for \"' +\n            name +\n            '\" is not supported.');\n    }\n    let sameEncoding = valueContentMap[valueContent] &&\n        valueContentMap[valueContent].type === valueType.split('[]')[0];\n    const isArray = valueType.substr(valueType.length - 2) === '[]';\n    // VALUE TYPE\n    if (valueType !== 'bytes' && // we ignore because all is decoded by bytes to start with (abi)\n        valueType !== 'string' &&\n        !isAddress(value) // checks for addresses, since technically an address is bytes?\n    ) {\n        // eslint-disable-next-line no-param-reassign\n        value = decodeValueType(valueType, value);\n    }\n    // As per exception above, if address and sameEncoding, then the address still needs to be handled\n    if (sameEncoding && isAddress(value) && !checkAddressChecksum(value)) {\n        sameEncoding = !sameEncoding;\n    }\n    if (sameEncoding && valueType !== 'string') {\n        return value;\n    }\n    // VALUE CONTENT\n    // We are finished if duplicated encoding methods\n    if (isArray && Array.isArray(value)) {\n        // value must be an array also\n        const results = [];\n        for (let index = 0; index < value.length; index++) {\n            const element = value[index];\n            results.push(decodeValueContent(valueContent, element));\n        }\n        return results;\n    }\n    return decodeValueContent(valueContent, value);\n}\n/**\n *\n * @param schema is an object of a schema definitions\n * @param value will be either key-value pairs for a key type of Array, or a single value for type Singleton\n * @return the decoded value/values as per the schema definition\n */\nexport function decodeKey(schema, value) {\n    const lowerCaseKeyType = schema.keyType.toLowerCase();\n    switch (lowerCaseKeyType) {\n        case 'array': {\n            const results = [];\n            // If user has requested a key which does not exist in the contract, value will be: 0x and value.find() will fail.\n            if (!value || typeof value === 'string') {\n                return results;\n            }\n            const valueElement = value.find((e) => e.key === schema.key);\n            // Handle empty/non-existent array\n            if (!valueElement) {\n                return results;\n            }\n            const arrayLength = decodeKeyValue('Number', 'uint256', valueElement.value, schema.name) ||\n                0;\n            // This will not run if no match or arrayLength\n            for (let index = 0; index < arrayLength; index++) {\n                const dataElement = value.find((e) => e.key === encodeArrayKey(schema.key, index));\n                if (dataElement) {\n                    results.push(decodeKeyValue(schema.valueContent, schema.valueType, dataElement.value, schema.name));\n                }\n            } // end for loop\n            return results;\n        }\n        case 'bytes20mapping':\n        case 'bytes20mappingwithgrouping':\n        case 'singleton':\n        case 'mapping': {\n            if (Array.isArray(value)) {\n                const newValue = value.find((e) => e.key === schema.key);\n                // Handle empty or non-values\n                if (!newValue) {\n                    return null;\n                }\n                return decodeKeyValue(schema.valueContent, schema.valueType, newValue.value, schema.name);\n            }\n            return decodeKeyValue(schema.valueContent, schema.valueType, value, schema.name);\n        }\n        default: {\n            console.error('Incorrect data match or keyType in schema from decodeKey(): \"' +\n                schema.keyType +\n                '\"');\n            return null;\n        }\n    }\n}\n/**\n *\n * @param schema schema is an array of objects of schema definitions\n * @param data data is an array of objects of key-value pairs\n * @return: all decoded data as per required by the schema and provided data\n */\nexport function decodeData(data, schema) {\n    return Object.entries(data).reduce((decodedData, [key, value]) => {\n        const schemaElement = getSchemaElement(schema, key);\n        return Object.assign(Object.assign({}, decodedData), { [schemaElement.name]: decodeKey(schemaElement, value) });\n    }, {});\n}\n/**\n * @param schema an array of schema definitions as per ${@link ERC725JSONSchema}\n * @param data an object of key-value pairs\n */\nexport function encodeData(data, schema) {\n    return Object.entries(data).reduce((accumulator, [key, value]) => {\n        const schemaElement = getSchemaElement(schema, key);\n        accumulator[key] = {\n            value: encodeKey(schemaElement, value),\n            key: schemaElement.key,\n        };\n        return accumulator;\n    }, {});\n}\nexport function getHashFunction(hashFunctionNameOrHash) {\n    const hashFunction = HASH_FUNCTIONS[hashFunctionNameOrHash];\n    if (!hashFunction) {\n        throw new Error(`Chosen hashFunction '${hashFunctionNameOrHash}' is not supported.\n      Supported hashFunctions: ${SUPPORTED_HASH_FUNCTIONS_LIST}\n      `);\n    }\n    return hashFunction;\n}\nexport function hashData(data, hashFunctionNameOrHash) {\n    const hashFunction = getHashFunction(hashFunctionNameOrHash);\n    return hashFunction.method(data);\n}\n/**\n * Hashes the data received with the specified hashing function,\n * and compares the result with the provided hash.\n */\nexport function isDataAuthentic(data, expectedHash, lowerCaseHashFunction) {\n    const dataHash = hashData(data, lowerCaseHashFunction);\n    if (dataHash !== expectedHash) {\n        console.error(`Hash mismatch, returned JSON hash (\"${dataHash}\") is different from expected hash \"${expectedHash}\"`);\n        return false;\n    }\n    return true;\n}\n/**\n * Transform the object containing the encoded data into an array ordered by keys,\n * for easier handling when writing the data to the blockchain.\n *\n * @param {{\n *   [key: string]: any;\n * }} encodedData This is essentially the object you receive when calling `encodeData(...)`\n * @return {*}  KeyValuePair[] An array of key-value objects\n */\nexport function flattenEncodedData(encodedData) {\n    return (Object.entries(encodedData)\n        .reduce((keyValuePairs, [, encodedDataElement]) => {\n        if (Array.isArray(encodedDataElement.value)) {\n            return keyValuePairs.concat(encodedDataElement.value);\n        }\n        keyValuePairs.push({\n            key: encodedDataElement.key,\n            value: encodedDataElement.value,\n        });\n        return keyValuePairs;\n    }, [])\n        // sort array of objects by keys, to not be dependent on the order of the object's keys\n        .sort((a, b) => {\n        if (a.key < b.key)\n            return -1;\n        return a.key > b.key ? 1 : 0;\n    }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL3V0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7RUFZRTtBQUNGOzs7O0dBSUc7QUFFSCxPQUFPLEVBQ0wsb0JBQW9CLEVBQ3BCLFNBQVMsRUFDVCxTQUFTLEVBQ1QsV0FBVyxFQUNYLE9BQU8sR0FDUixNQUFNLFlBQVksQ0FBQztBQVVwQixPQUFPLEVBQ0wsY0FBYyxFQUVkLDZCQUE2QixHQUM5QixNQUFNLGFBQWEsQ0FBQztBQUNyQixPQUFPLEVBQ0wsa0JBQWtCLEVBQ2xCLGVBQWUsRUFDZixrQkFBa0IsRUFDbEIsZUFBZSxFQUNmLHVCQUF1QixJQUFJLGVBQWUsR0FDM0MsTUFBTSxXQUFXLENBQUM7QUFFbkI7Ozs7Ozs7R0FPRztBQUNILE1BQU0sVUFBVSxjQUFjLENBQzVCLFlBQW9CLEVBQ3BCLFNBQW9DLEVBQ3BDLEtBQXNFLEVBQ3RFLElBQWE7SUFFYixNQUFNLHVCQUF1QixHQUMzQixlQUFlLENBQUMsWUFBWSxDQUFDLElBQUksWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDO0lBRXRFLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtRQUM1QixNQUFNLElBQUksS0FBSyxDQUNiLHFCQUFxQixZQUFZO2tCQUNyQixJQUFJLG9CQUFvQixDQUNyQyxDQUFDO0tBQ0g7SUFFRCxJQUFJLE1BQU0sQ0FBQztJQUNYLE1BQU0sWUFBWSxHQUNoQixlQUFlLENBQUMsWUFBWSxDQUFDO1FBQzdCLGVBQWUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLEtBQUssU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsRSxNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEtBQUssSUFB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","import LSP3UniversalProfile from './LSP3UniversalProfile.json';\nimport LSP4DigitalAsset from './LSP4DigitalAsset.json';\nimport LSP5ReceivedAssets from './LSP5ReceivedAssets.json';\nimport LSP6KeyManager from './LSP6KeyManager.json';\nexport default LSP3UniversalProfile.concat(LSP4DigitalAsset, LSP5ReceivedAssets, LSP6KeyManager);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2NoZW1hcy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLG9CQUFvQixNQUFNLDZCQUE2QixDQUFDO0FBQy9ELE9BQU8sZ0JBQWdCLE1BQU0seUJBQXlCLENBQUM7QUFDdkQsT0FBTyxrQkFBa0IsTUFBTSwyQkFBMkIsQ0FBQztBQUMzRCxPQUFPLGNBQWMsTUFBTSx1QkFBdUIsQ0FBQztBQUVuRCxlQUFlLG9CQUFvQixDQUFDLE1BQU0sQ0FDeEMsZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUNsQixjQUFjLENBQ08sQ0FBQyJ9","/**\n * @file schemaParser.ts\n * @author Hugo Masclet <@Hugoo>\n * @date 2022\n */\nimport allSchemas from '../schemas';\nconst getSchemasByKeyType = (schemas) => {\n    return {\n        Singleton: schemas.filter((schema) => schema.keyType === 'Singleton'),\n        Array: schemas.filter((schema) => schema.keyType === 'Array'),\n        Mapping: schemas.filter((schema) => schema.keyType === 'Mapping'),\n        Bytes20Mapping: schemas.filter((schema) => schema.keyType === 'Bytes20Mapping'),\n        Bytes20MappingWithGrouping: schemas.filter((schema) => schema.keyType === 'Bytes20MappingWithGrouping'),\n    };\n};\nconst findSingletonSchemaForKey = (key, schemas) => {\n    return schemas.find((schema) => schema.key === key) || null;\n};\nconst findArraySchemaForKey = (key, schemas) => {\n    // Should detect:\n    // 1. Initial key\n    const initialKeySchema = schemas.find((schema) => schema.key === key) || null;\n    if (initialKeySchema) {\n        return initialKeySchema;\n    }\n    // 2. Subsequent keys\n    const bytes16Key = key.substr(0, 34);\n    const arraySchema = schemas.find((schema) => schema.key.substr(0, 34) === bytes16Key) || null;\n    if (!arraySchema) {\n        return null;\n    }\n    const elementIndex = parseInt(key.substr(34), 10);\n    if (!elementIndex) {\n        return null;\n    }\n    return Object.assign(Object.assign({}, arraySchema), { name: arraySchema.name.replace('[]', `[${elementIndex}]`), keyType: 'Singleton' });\n};\nconst findMappingSchemaForKey = (key, schemas) => {\n    // Should detect:\n    // 1. Known/defined mapping\n    let keySchema = schemas.find((schema) => schema.key === key) || null;\n    if (keySchema) {\n        return keySchema;\n    }\n    // 2. \"Semi defined mappings\" i.e. \"SupportedStandards:??????\"\n    keySchema =\n        schemas.find((schema) => schema.key.substr(0, 58) === key.substr(0, 58)) ||\n            null;\n    if (!keySchema) {\n        return null;\n    }\n    return Object.assign(Object.assign({}, keySchema), { name: `${keySchema.name.split(':')[0]}:??????`, key });\n};\nconst findBytes20MappingSchemaForKey = (key, schemas) => {\n    const keySchema = schemas.find((schema) => schema.key.substr(0, 26) === key.substr(0, 26)) ||\n        null;\n    const address = key.substr(26);\n    if (keySchema) {\n        return Object.assign(Object.assign({}, keySchema), { key, name: `${keySchema.name.substr(0, keySchema.name.lastIndexOf(':'))}:${address}` });\n    }\n    return null;\n};\nconst findBytes20MappingWithGroupingSchemaForKey = (key, schemas) => {\n    const keySchema = schemas.find((schema) => schema.key.substr(0, 26) === key.substr(0, 26)) ||\n        null;\n    const address = key.substr(26);\n    if (keySchema) {\n        return Object.assign(Object.assign({}, keySchema), { key, name: `${keySchema.name.substr(0, keySchema.name.lastIndexOf(':'))}:${address}` });\n    }\n    return null;\n};\nfunction schemaParser(key, schemas) {\n    const schemasByKeyType = getSchemasByKeyType(schemas);\n    let foundSchema = null;\n    foundSchema = findSingletonSchemaForKey(key, schemasByKeyType.Singleton);\n    if (foundSchema) {\n        return foundSchema;\n    }\n    foundSchema = findArraySchemaForKey(key, schemasByKeyType.Array);\n    if (foundSchema) {\n        return foundSchema;\n    }\n    foundSchema = findMappingSchemaForKey(key, schemasByKeyType.Mapping);\n    if (foundSchema) {\n        return foundSchema;\n    }\n    foundSchema = findBytes20MappingSchemaForKey(key, schemasByKeyType.Bytes20Mapping);\n    if (foundSchema) {\n        return foundSchema;\n    }\n    foundSchema = findBytes20MappingWithGroupingSchemaForKey(key, schemasByKeyType.Bytes20MappingWithGrouping);\n    return foundSchema;\n}\nexport function getSchema(keyOrKeys, providedSchemas) {\n    let fullSchema = allSchemas;\n    if (providedSchemas) {\n        fullSchema = fullSchema.concat(providedSchemas);\n    }\n    if (Array.isArray(keyOrKeys)) {\n        return keyOrKeys.reduce((acc, key) => {\n            acc[key] = schemaParser(key, fullSchema);\n            return acc;\n        }, {});\n    }\n    return schemaParser(keyOrKeys, fullSchema);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1hUGFyc2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9zY2hlbWFQYXJzZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUVILE9BQU8sVUFBVSxNQUFNLFlBQVksQ0FBQztBQU9wQyxNQUFNLG1CQUFtQixHQUFHLENBQzFCLE9BQTJCLEVBQzBCLEVBQUU7SUFDdkQsT0FBTztRQUNMLFNBQVMsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxLQUFLLFdBQVcsQ0FBQztRQUNyRSxLQUFLLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sS0FBSyxPQUFPLENBQUM7UUFDN0QsT0FBTyxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEtBQUssU0FBUyxDQUFDO1FBQ2pFLGNBQWMsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUM1QixDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sS0FBSyxnQkFBZ0IsQ0FDaEQ7UUFDRCwwQkFBMEIsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUN4QyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sS0FBSyw0QkFBNEIsQ0FDNUQ7S0FDRixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSx5QkFBeUIsR0FBRyxDQUNoQyxHQUFXLEVBQ1gsT0FBMkIsRUFDRixFQUFFO0lBQzNCLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUM7QUFDOUQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxxQkFBcUIs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","/*\n    This file is part of @erc725/erc725.js.\n    @erc725/erc725.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n    @erc725/erc725.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n    You should have received a copy of the GNU Lesser General Public License\n    along with @erc725/erc725.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/**\n * @file index.ts\n * @author Robert McLeod <@robertdavid010>, Fabian Vogelsteller <fabian@lukso.network>\n * @date 2020\n */\nimport { hexToNumber, isAddress, keccak256, leftPad, toHex } from 'web3-utils';\nimport { Web3ProviderWrapper } from './providers/web3ProviderWrapper';\nimport { EthereumProviderWrapper } from './providers/ethereumProviderWrapper';\nimport { encodeArrayKey, getSchemaElement, decodeData, decodeKeyValue, decodeKey, isDataAuthentic, encodeData, } from './lib/utils';\nimport { getSchema } from './lib/schemaParser';\nimport { LSP6_ALL_PERMISSIONS, LSP6_DEFAULT_PERMISSIONS, SUPPORTED_HASH_FUNCTION_STRINGS, } from './lib/constants';\nexport { flattenEncodedData, encodeData } from './lib/utils';\n/**\n * This package is currently in early stages of development, <br/>use only for testing or experimentation purposes.<br/>\n *\n * @typeParam Schema\n *\n */\nexport class ERC725 {\n    /**\n     * Creates an instance of ERC725.\n     * @param {ERC725JSONSchema[]} schema More information available here: [LSP-2-ERC725YJSONSchema](https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md)\n     * @param {string} address Address of the ERC725 contract you want to interact with\n     * @param {any} provider\n     * @param {ERC725Config} config Configuration object.\n     *\n     */\n    constructor(schema, address, provider, config) {\n        // NOTE: provider param can be either the provider, or and object with {provider:xxx ,type:xxx}\n        // TODO: Add check for schema format?\n        if (!schema) {\n            throw new Error('Missing schema.');\n        }\n        const defaultConfig = {\n            ipfsGateway: 'https://cloudflare-ipfs.com/ipfs/',\n        };\n        this.options = {\n            schema,\n            address,\n            provider: this.initializeProvider(provider),\n            config: Object.assign(Object.assign({}, defaultConfig), config),\n        };\n    }\n    // eslint-disable-next-line class-methods-use-this\n    initializeProvider(providerOrProviderWrapper) {\n        // do not fail on no-provider\n        if (!providerOrProviderWrapper)\n            return undefined;\n        if (typeof providerOrProviderWrapper.request === 'function')\n            return new EthereumProviderWrapper(providerOrProviderWrapper);\n        if (!providerOrProviderWrapper.request &&\n            typeof providerOrProviderWrapper.send === 'function')\n            return new Web3ProviderWrapper(providerOrProviderWrapper);\n        throw new Error(`Incorrect or unsupported provider ${providerOrProviderWrapper}`);\n    }\n    /**\n     * Gets **decoded data** for one, many or all keys of the specified `ERC725` smart-contract.\n     * When omitting the `keyOrKeys` parameter, it will get all the keys (as per {@link ERC725JSONSchema | ERC725JSONSchema} definition).\n     *\n     * Data returned by this function does not contain external data of [`JSONURL`](https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#jsonurl)\n     * or [`ASSETURL`](https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#asseturl) schema elements.\n     *\n     * If you would like to receive everything in one go, you can use {@link ERC725.fetchData | `fetchData`} for that.\n     *\n     * @returns An object with schema element key names as properties, with corresponding **decoded** data as values.\n     */\n    getData(keyOrKeys) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.getAddressAndProvider();\n            if (!keyOrKeys) {\n                // eslint-disable-next-line no-param-reassign\n                keyOrKeys = this.options.schema.map((element) => element.name);\n            }\n            if (Array.isArray(keyOrKeys)) {\n                return this.getDataMultiple(keyOrKeys);\n            }\n            return this.getDataSingle(keyOrKeys);\n        });\n    }\n    /**\n     * Since {@link ERC725.getData | `getData`} exclusively returns data that is stored on the blockchain, `fetchData` comes in handy.\n     * Additionally to the data from the blockchain, `fetchData` also returns data from IPFS or HTTP(s) endpoints\n     * stored as [`JSONURL`](https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#jsonurl) or [`ASSETURL`](https://github.com/lukso-network/LIPs/blob/master/LSPs/LSP-2-ERC725YJSONSchema.md#asseturl).\n     *\n     * To ensure **data authenticity** `fetchData` compares the `hash` of the fetched JSON with the `hash` stored on the blockchain.\n     *\n     * @param {string} keyOrKeys The name (or the encoded name as the schema key) of the schema element in the class instances schema.\n     * @param {ERC725JSONSchema} customSchema An optional custom schema element to use for decoding the returned value. Overrides attached schema of the class instance on this call only.\n     * @returns Returns the fetched and decoded value depending valueContent for the schema element, otherwise works like getData\n     */\n    fetchData(keyOrKeys) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const dataFromChain = yield this.getData(keyOrKeys);\n            const dataFromExternalSources = yield this.getDataFromExternalSources(dataFromChain);\n            return Object.assign(Object.assign({}, dataFromChain), dataFromExternalSources);\n        });\n    }\n    getSchema(keyOrKeys, providedSchemas) {\n        return getSchema(keyOrKeys, this.options.schema.concat(providedSchemas || []));\n    }\n    getDataFromExternalSources(dataFromChain) {\n        return Object.entries(dataFromChain)\n            .filter(([key]) => {\n            const keySchema = getSchemaElement(this.options.schema, key);\n            return ['jsonurl', 'asseturl'].includes(keySchema.valueContent.toLowerCase());\n        })\n            .reduce((accumulator, [key, dataEntry]) => __awaiter(this, void 0, void 0, function* () {\n            if (!dataEntry) {\n                accumulator[key] = null;\n                return accumulator;\n            }\n            let receivedData;\n            try {\n                const { url } = this.patchIPFSUrlsIfApplicable(dataEntry);\n                receivedData = yield fetch(url).then((response) => __awaiter(this, void 0, void 0, function* () {\n                    if (dataEntry.hashFunction ===\n                        SUPPORTED_HASH_FUNCTION_STRINGS.KECCAK256_BYTES) {\n                        return response\n                            .arrayBuffer()\n                            .then((buffer) => new Uint8Array(buffer));\n                    }\n                    return response.json();\n                }));\n            }\n            catch (error) {\n                console.error(error, `GET request to ${dataEntry.url} failed`);\n                throw error;\n            }\n            accumulator[key] = isDataAuthentic(receivedData, dataEntry.hash, dataEntry.hashFunction)\n                ? receivedData\n                : null;\n            return accumulator;\n        }), {});\n    }\n    encodeData(data) {\n        return encodeData(data, this.options.schema);\n    }\n    decodeData(data) {\n        return decodeData(data, this.options.schema);\n    }\n    /**\n     * An added utility method which simply returns the owner of the contract.\n     * Not directly related to ERC725 specifications.\n     *\n     * @param {string} [address]\n     * @returns The address of the contract owner as stored in the contract.\n     *\n     *    This method is not yet supported when using the `graph` provider type.\n     *\n     * ```javascript title=\"Example\"\n     * await myERC725.getOwner();\n     * // '0x94933413384997F9402cc07a650e8A34d60F437A'\n     *\n     * await myERC725.getOwner(\"0x3000783905Cc7170cCCe49a4112Deda952DDBe24\");\n     * // '0x7f1b797b2Ba023Da2482654b50724e92EB5a7091'\n     * ```\n     */\n    getOwner(_address) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { address, provider } = this.getAddressAndProvider();\n            return provider.getOwner(_address || address);\n        });\n    }\n    /**\n     * @internal\n     * @param schema associated with the schema with keyType = 'Array'\n     *               the data includes the raw (encoded) length key-value pair for the array\n     * @param data array of key-value pairs, one of which is the length key for the schema array\n     *             Data can hold other field data not relevant here, and will be ignored\n     * @return an array of keys/values\n     */\n    getArrayValues(schema, data) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (schema.keyType !== 'Array') {\n                throw new Error(`The \"getArrayValues\" method requires a schema definition with \"keyType: Array\",\n         ${schema}`);\n            }\n            const results = [];\n            // 1. get the array length\n            const value = data[schema.key]; // get the length key/value pair\n            if (!value || !value.value) {\n                return results;\n            } // Handle empty/non-existent array\n            const arrayLength = yield decodeKeyValue('Number', 'uint256', value.value, schema.name); // get the int array length\n            const arrayElementKeys = [];\n            for (let index = 0; index < arrayLength; index++) {\n                const arrayElementKey = encodeArrayKey(schema.key, index);\n                if (!data[arrayElementKey]) {\n                    arrayElementKeys.push(arrayElementKey);\n                }\n            }\n            try {\n                const arrayElements = yield ((_a = this.options.provider) === null || _a === void 0 ? void 0 : _a.getAllData(this.options.address, arrayElementKeys));\n                results.push(...arrayElements);\n            }\n            catch (err) {\n                // This case may happen if user requests an array key which does not exist in the contract.\n                // In this case, we simply skip\n            }\n            return results;\n        });\n    }\n    getDataSingle(data) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const keySchema = getSchemaElement(this.options.schema, data);\n            const rawData = yield ((_a = this.options.provider) === null || _a === void 0 ? void 0 : _a.getData(this.options.address, keySchema.key));\n            // Decode and return the data\n            if (keySchema.keyType.toLowerCase() === 'array') {\n                const dataKeyValue = {\n                    [keySchema.key]: { key: keySchema.key, value: rawData },\n                };\n                const arrayValues = yield this.getArrayValues(keySchema, dataKeyValue);\n                if (arrayValues && arrayValues.length > 0) {\n                    arrayValues.push(dataKeyValue[keySchema.key]); // add the raw data array length\n                    return {\n                        [keySchema.name]: decodeKey(keySchema, arrayValues),\n                    };\n                }\n                return { [keySchema.name]: [] }; // return empty object if there are no arrayValues\n            }\n            return {\n                [keySchema.name]: decodeKey(keySchema, rawData),\n            };\n        });\n    }\n    getDataMultiple(keyNames) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const keyHashes = keyNames.map((keyName) => {\n                const schemaElement = getSchemaElement(this.options.schema, keyName);\n                return schemaElement.key;\n            });\n            // Get all the raw data from the provider based on schema key hashes\n            const allRawData = yield ((_a = this.options.provider) === null || _a === void 0 ? void 0 : _a.getAllData(this.options.address, keyHashes));\n            const tmpData = allRawData.reduce((accumulator, current) => {\n                accumulator[current.key] = current.value;\n                return accumulator;\n            }, {});\n            // Get missing 'Array' fields for all arrays, as necessary\n            const arraySchemas = this.options.schema.filter((e) => e.keyType.toLowerCase() === 'array');\n            // eslint-disable-next-line no-restricted-syntax\n            for (const keySchema of arraySchemas) {\n                const dataKeyValue = {\n                    [keySchema.key]: { key: keySchema.key, value: tmpData[keySchema.key] },\n                };\n                const arrayValues = yield this.getArrayValues(keySchema, dataKeyValue);\n                if (arrayValues && arrayValues.length > 0) {\n                    arrayValues.push(dataKeyValue[keySchema.key]); // add the raw data array length\n                    tmpData[keySchema.key] = arrayValues;\n                }\n            }\n            return decodeData(tmpData, this.options.schema);\n        });\n    }\n    /**\n     * Changes the protocol from `ipfs://` to `http(s)://` and adds the selected IPFS gateway.\n     * `ipfs://QmbKvCVEePiDKxuouyty9bMsWBAxZDGr2jhxd4pLGLx95D => https://ipfs.lukso.network/ipfs/QmbKvCVEePiDKxuouyty9bMsWBAxZDGr2jhxd4pLGLx95D`\n     */\n    patchIPFSUrlsIfApplicable(receivedData) {\n        if (receivedData &&\n            receivedData.url &&\n            receivedData.url.indexOf('ipfs://') !== -1) {\n            return Object.assign(Object.assign({}, receivedData), { url: receivedData.url.replace('ipfs://', this.options.config.ipfsGateway) });\n        }\n        return receivedData;\n    }\n    getAddressAndProvider() {\n        if (!isAddress(this.options.address)) {\n            throw new Error('Missing ERC725 contract address.');\n        }\n        if (!this.options.provider) {\n            throw new Error('Missing provider.');\n        }\n        return {\n            address: this.options.address,\n            provider: this.options.provider,\n        };\n    }\n    /**\n     * Encode permissions into a hexadecimal string as defined by the LSP6 KeyManager Standard.\n     *\n     * @link https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md LSP6 KeyManager Standard.\n     * @param permissions The permissions you want to specify to be included or excluded. Any ommitted permissions will default to false.\n     * @returns {*} The permissions encoded as a hexadecimal string as defined by the LSP6 Standard.\n     */\n    static encodePermissions(permissions) {\n        const result = Object.keys(permissions).reduce((previous, key) => {\n            return permissions[key]\n                ? previous + hexToNumber(LSP6_DEFAULT_PERMISSIONS[key])\n                : previous;\n        }, 0);\n        return leftPad(toHex(result), 64);\n    }\n    /**\n     * Decodes permissions from hexadecimal as defined by the LSP6 KeyManager Standard.\n     *\n     * @link https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-6-KeyManager.md LSP6 KeyManager Standard.\n     * @param permissionHex The permission hexadecimal value to be decoded.\n     * @returns Object specifying whether default LSP6 permissions are included in provided hexademical string.\n     */\n    static decodePermissions(permissionHex) {\n        const result = {\n            CHANGEOWNER: false,\n            CHANGEPERMISSIONS: false,\n            ADDPERMISSIONS: false,\n            SETDATA: false,\n            CALL: false,\n            STATICCALL: false,\n            DELEGATECALL: false,\n            DEPLOY: false,\n            TRANSFERVALUE: false,\n            SIGN: false,\n        };\n        const permissionsToTest = Object.keys(LSP6_DEFAULT_PERMISSIONS);\n        if (permissionHex === LSP6_ALL_PERMISSIONS) {\n            permissionsToTest.forEach((testPermission) => {\n                result[testPermission] = true;\n            });\n            return result;\n        }\n        const passedPermissionDecimal = hexToNumber(permissionHex);\n        permissionsToTest.forEach((testPermission) => {\n            const decimalTestPermission = hexToNumber(LSP6_DEFAULT_PERMISSIONS[testPermission]);\n            const isPermissionIncluded = (passedPermissionDecimal & decimalTestPermission) ===\n                decimalTestPermission;\n            result[testPermission] = isPermissionIncluded;\n        });\n        return result;\n    }\n    /**\n     * Hashes a key name for use on an ERC725Y contract according to LSP2 ERC725Y JSONSchema standard.\n     *\n     * @param keyName The key name you want to encode.\n     * @link https://github.com/lukso-network/LIPs/blob/main/LSPs/LSP-2-ERC725YJSONSchema.md ERC725YJsonSchema standard.\n     * @returns {*} The keccak256 hash of the provided key name. This is the key that must be retrievable from the ERC725Y contract via ERC725Y.getData(bytes32 key).\n     */\n    static encodeKeyName(keyName) {\n        const isMapping = keyName.includes(':');\n        if (isMapping) {\n            const words = keyName.split(':');\n            const isBytes20Mapping = isAddress(words[words.length - 1]);\n            const isMappingWithGrouping = words.length === 3;\n            // Mapping\n            if (!isBytes20Mapping && !isMappingWithGrouping) {\n                return (keccak256(words[0]).slice(0, 34) +\n                    '0'.repeat(24) +\n                    keccak256(words[1]).slice(2).slice(0, 8));\n            }\n            // Bytes20Mapping\n            if (isBytes20Mapping && !isMappingWithGrouping) {\n                return (keccak256(words[0]).slice(0, 18) +\n                    '0'.repeat(8) +\n                    words[words.length - 1]);\n            }\n            // Bytes20MappingWithGrouping\n            if (isBytes20Mapping && isMappingWithGrouping) {\n                return (keccak256(words[0]).slice(0, 10) +\n                    '0'.repeat(8) +\n                    keccak256(words[1]).slice(2).slice(0, 4) +\n                    '0'.repeat(4) +\n                    words[words.length - 1]);\n            }\n        }\n        // Array + Singleton\n        return keccak256(keyName);\n    }\n}\nexport default ERC725;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztFQVlFOzs7Ozs7Ozs7O0FBRUY7Ozs7R0FJRztBQUVILE9BQU8sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRS9FLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBQ3RFLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDO0FBRTlFLE9BQU8sRUFDTCxjQUFjLEVBQ2QsZ0JBQWdCLEVBQ2hCLFVBQVUsRUFDVixjQUFjLEVBQ2QsU0FBUyxFQUNULGVBQWUsRUFDZixVQUFVLEdBQ1gsTUFBTSxhQUFhLENBQUM7QUFFckIsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBVy9DLE9BQU8sRUFDTCxvQkFBb0IsRUFDcEIsd0JBQXdCLEVBQ3hCLCtCQUErQixHQUNoQyxNQUFNLGlCQUFpQixDQUFDO0FBV3pCLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxVQUFVLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDN0Q7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sTUFBTTtJQVFqQjs7Ozs7OztPQU9HO0lBQ0gsWUFDRSxNQUEwQixFQUMxQixPQUFRLEVBQ1IsUUFBYyxFQUNkLE1BQXFCO1FBRXJCLCtGQUErRjtRQUUvRixxQ0FBcUM7UUFDckMsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNYLE1BQU0sSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQztTQUNwQztRQUVELE1BQU0sYUFBYSxHQUFHO1lBQ3BCLFdBQVcsRUFBRSxtQ0FBbUM7U0FDakQsQ0FBQztRQUVGLElBQUksQ0FBQyxPQUFPLEdBQUc7WUFDYixNQUFNO1lBQ04sT0FBTztZQUNQLFFBQVEsRUFB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"],"sourceRoot":""}