(this.webpackJsonpprofiles=this.webpackJsonpprofiles||[]).push([[13],{1143:function(t,e,n){"use strict";n.r(e);var a,r,c,i,s,o,u,l,b,d,p,h,j,x,f=n(6),O=n(0),m=n.n(O),w=n(16),g=n(18),k=n(1),S=n(47),v=n(24),C=n(28),A=n(53),L=n(460),I=n(17),y=n(980),E=n(1009),D=n.n(E),M=function(){var t=Object(w.a)(m.a.mark((function t(e){var n,a,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("./whitelistedAddresses.json").then((function(t){return t.json()}));case 2:return n=t.sent,a=n.map((function(t){return D()(t)})),r=new y.MerkleTree(a,D.a,{sortPairs:!0}),t.abrupt("return",r.getHexProof(D()(e)));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=n(8),F=n(7),H=F.c.div(a||(a=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),U=F.c.div(r||(r=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding-bottom: 30px;\n  row-gap: 20px;\n  background: linear-gradient(\n      180deg,\n      rgba(255, 255, 255, 0) 0%,\n      rgba(255, 255, 255, 0.08) 107.79%\n    ),\n    rgba(33, 33, 33, 0.6);\n\n  @media "," {\n    max-width: 500px;\n    margin: 20px auto 0 auto;\n    border-radius: 20px;\n  }\n"])),(function(t){return t.theme.screen.xs})),N=F.c.img(c||(c=Object(P.a)(["\n  width: 100%;\n  margin: 0 auto;\n\n  @media "," {\n    border-radius: 20px 20px 0 0;\n  }\n"])),(function(t){return t.theme.screen.xs})),z=F.c.p(i||(i=Object(P.a)(["\n  color: white;\n  margin: 0 auto;\n  font-size: 18px;\n"]))),B=F.c.div(s||(s=Object(P.a)(["\n  display: flex;\n  margin: 0 auto;\n  column-gap: 20px;\n"]))),G=F.c.label(o||(o=Object(P.a)(["\n  color: white;\n  margin: auto 0;\n"]))),W=(F.c.input(u||(u=Object(P.a)(["\n  padding: 5px 10px;\n  border-radius: 5px;\n  background: rgba(225, 225, 225, 0.2);\n  color: white;\n"]))),F.c.button(l||(l=Object(P.a)(["\n  border-radius: 5px;\n  background: rgba(255, 129, 1, 1);\n  padding: 5px 10px;\n  margin: 0 auto;\n  color: white;\n  opacity: ",";\n"])),(function(t){return t.disabled&&.4}))),J=F.c.p(b||(b=Object(P.a)(["\n  color: red;\n  margin: 0 auto;\n  text-align: center;\n"]))),V=F.c.div(d||(d=Object(P.a)(["\n  display: flex;\n"]))),_=F.c.button(p||(p=Object(P.a)(["\n  text-decoration: underline;\n  color: white;\n  margin-right: auto;\n  margin-left: 10px;\n"]))),T=F.c.h3(h||(h=Object(P.a)(["\n  font-size: 28px;\n  color: white;\n  text-align: center;\n  font-weight: ",";\n"])),(function(t){return t.theme.font.weight.bold})),Y=F.c.a(j||(j=Object(P.a)(["\n  margin: 0 auto;\n  color: white;\n  text-decoration: underline;\n"]))),q=Object(F.c)(Y)(x||(x=Object(P.a)([""]))),K=n(268),Q=n(72),R=n(4);e.default=function(){var t=Object(Q.h)(),e=Object(k.useMemo)((function(){return t.pathname.includes("test")?[[137],"Polygon","0x34c01dD64203b566C4CaE656C832d5a449A34c98",7]:[[1],"Ethereum","0x4b406ACb6C43Caf306e4662AAf3a4C8e085e6439",2]}),[t]),n=Object(g.a)(e,4),a=n[0],r=n[1],c=n[2],i=n[3],s=Object(C.c)().isConnected,o=Object(C.g)().chain,u=Object(C.h)().data,l=Object(C.c)().address,b=Object(C.e)({address:c,abi:L.a,signerOrProvider:u}),d=Object(k.useState)(I.a.IDLE),p=Object(g.a)(d,2),h=p[0],j=p[1],x=Object(k.useState)({transactionHash:null,tokenIdMinted:null}),O=Object(g.a)(x,2),y=O[0],E=O[1],D=Object(k.useState)({maticAmount:S.a.from(0),amount:1,publicSale:!1,whiteListSale:!1,ownedPasses:S.a.from(0)}),P=Object(g.a)(D,2),F=P[0],X=P[1],Z=Object(k.useState)(""),$=Object(g.a)(Z,2),tt=$[0],et=$[1],nt=Object(k.useCallback)(Object(w.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(et(""),j(I.a.LOADING),t.t0=b,!t.t0){t.next=6;break}return t.next=6,b.mint(F.amount,!0,{value:F.maticAmount}).then(function(){var t=Object(w.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wait(1).then((function(t){E({tokenIdMinted:parseInt(t.logs[1].topics[3]),transactionHash:t.transactionHash}),j(I.a.SUCCESSFUL)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){et(t.data?t.data.message:t.message),j(I.a.IDLE)}));case 6:case"end":return t.stop()}}),t)}))),[b,F.amount,F.maticAmount]),at=Object(k.useCallback)(Object(w.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(et(""),j(I.a.LOADING),l){t.next=4;break}return t.abrupt("return");case 4:if(t.t0=b,!t.t0){t.next=14;break}return t.t1=b,t.t2=F.amount,t.next=10,M(l);case 10:return t.t3=t.sent,t.t4={value:F.maticAmount},t.next=14,t.t1.whitelistMint.call(t.t1,t.t2,!0,t.t3,t.t4).then(function(){var t=Object(w.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wait(1).then((function(t){E({tokenIdMinted:parseInt(t.logs[1].topics[3]),transactionHash:t.transactionHash}),j(I.a.SUCCESSFUL)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){et(t.reason?t.reason:t.data?t.data.message:t.message),j(I.a.IDLE)}));case 14:case"end":return t.stop()}}),t)}))),[b,F.amount,F.maticAmount,l]),rt=Object(k.useMemo)((function(){return Object(I.f)(s,(null===o||void 0===o?void 0:o.id)||0,a)}),[s,o,a]);return Object(k.useEffect)((function(){Object(w.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b&&rt&&l){t.next=2;break}return t.abrupt("return");case 2:return t.t0=X,t.t1=f.a,t.t2=Object(f.a)({},F),t.t3={},t.next=8,b.price();case 8:return t.t4=t.sent,t.next=11,b.publicSale();case 11:return t.t5=t.sent,t.next=14,b.whiteListSale();case 14:return t.t6=t.sent,t.next=17,b.balanceOf(l);case 17:t.t7=t.sent,t.t8={maticAmount:t.t4,publicSale:t.t5,whiteListSale:t.t6,ownedPasses:t.t7},t.t9=(0,t.t1)(t.t2,t.t3,t.t8),(0,t.t0)(t.t9);case 21:case"end":return t.stop()}}),t)})))()}),[b,rt,l]),Object(R.jsx)(H,{children:Object(R.jsxs)(U,{children:[Object(R.jsx)(N,{src:A.p,alt:""}),s?!rt&&Object(R.jsxs)(J,{children:["Wrong Chain! Please switch to ",r]}):Object(R.jsx)(J,{children:"Wallet not connected! Please connect via Metamask first"}),""!==tt&&Object(R.jsx)(J,{children:tt}),h===I.a.IDLE&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(z,{children:["Your owned passes: ",F.ownedPasses.toNumber()]}),Object(R.jsx)(B,{children:Object(R.jsxs)(G,{children:["Amount in Ether:"," ",parseFloat(v.a.utils.formatEther(F.maticAmount)).toFixed(i)]})}),Object(R.jsx)(B,{children:Object(R.jsxs)(G,{children:["Amount to mint: ",F.amount]})}),(F.whiteListSale||F.publicSale)&&Object(R.jsx)(W,{disabled:!rt,onClick:function(){return F.whiteListSale?at():nt()},children:F.whiteListSale?"Buy pass now (private sale)":"Buy pass now (public sale)"})]}),h===I.a.LOADING&&Object(R.jsx)(K.y,{children:Object(R.jsx)(K.x,{color:"#ed7a2d"})}),h===I.a.SUCCESSFUL&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(_,{onClick:function(){return j(I.a.IDLE)},children:["<","-- Back to buy more"]}),Object(R.jsx)(T,{children:"Welcome to the Fanzone Sports Club!"}),Object(R.jsxs)(V,{children:[Object(R.jsx)(Y,{target:"_blank",href:"https://opensea.io/assets/".concat(c,"/").concat(y.tokenIdMinted),children:"View pass on OpenSea"}),Object(R.jsx)(q,{target:"_blank",href:"https://etherscan.io/tx/".concat(y.transactionHash),children:"View tx on etherscan"})]})]})]})})}}}]);
//# sourceMappingURL=13.f4d66bc1.chunk.js.map