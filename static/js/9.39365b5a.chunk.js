(this.webpackJsonpprofiles=this.webpackJsonpprofiles||[]).push([[9],{850:function(t,e,n){"use strict";n.r(e);var a,c,r,s,i,o,u,b,d,l,j,h,p,x,O=n(26),f=n(0),m=n.n(f),w=n(18),g=n(23),k=n(2),S=n(29),v=n(25),C=n(106),A=n(52),L=n(352),I=n(32),E=n(815),y=n(844),D=n.n(y),M=function(){var t=Object(w.a)(m.a.mark((function t(e){var n,a,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("./whitelistedAddresses.json").then((function(t){return t.json()}));case 2:return n=t.sent,a=n.map((function(t){return D()(t)})),c=new E.MerkleTree(a,D.a,{sortPairs:!0}),t.abrupt("return",c.getHexProof(D()(e)));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=n(13),F=n(12),H=F.c.div(a||(a=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),U=F.c.div(c||(c=Object(P.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding-bottom: 30px;\n  row-gap: 20px;\n  background: linear-gradient(\n      180deg,\n      rgba(255, 255, 255, 0) 0%,\n      rgba(255, 255, 255, 0.08) 107.79%\n    ),\n    rgba(33, 33, 33, 0.6);\n\n  @media "," {\n    max-width: 500px;\n    margin: 20px auto 0 auto;\n    border-radius: 20px;\n  }\n"])),(function(t){return t.theme.screen.xs})),N=F.c.img(r||(r=Object(P.a)(["\n  width: 100%;\n  margin: 0 auto;\n\n  @media "," {\n    border-radius: 20px 20px 0 0;\n  }\n"])),(function(t){return t.theme.screen.xs})),z=F.c.p(s||(s=Object(P.a)(["\n  color: white;\n  margin: 0 auto;\n  font-size: 18px;\n"]))),B=F.c.div(i||(i=Object(P.a)(["\n  display: flex;\n  margin: 0 auto;\n  column-gap: 20px;\n"]))),G=F.c.label(o||(o=Object(P.a)(["\n  color: white;\n  margin: auto 0;\n"]))),W=(F.c.input(u||(u=Object(P.a)(["\n  padding: 5px 10px;\n  border-radius: 5px;\n  background: rgba(225, 225, 225, 0.2);\n  color: white;\n"]))),F.c.button(b||(b=Object(P.a)(["\n  border-radius: 5px;\n  background: rgba(255, 129, 1, 1);\n  padding: 5px 10px;\n  margin: 0 auto;\n  color: white;\n  opacity: ",";\n"])),(function(t){return t.disabled&&.4}))),J=F.c.p(d||(d=Object(P.a)(["\n  color: red;\n  margin: 0 auto;\n  text-align: center;\n"]))),V=F.c.div(l||(l=Object(P.a)(["\n  display: flex;\n"]))),_=F.c.button(j||(j=Object(P.a)(["\n  text-decoration: underline;\n  color: white;\n  margin-right: auto;\n  margin-left: 10px;\n"]))),T=F.c.h3(h||(h=Object(P.a)(["\n  font-size: 28px;\n  color: white;\n  text-align: center;\n  font-weight: ",";\n"])),(function(t){return t.theme.font.weight.bold})),Y=F.c.a(p||(p=Object(P.a)(["\n  margin: 0 auto;\n  color: white;\n  text-decoration: underline;\n"]))),q=Object(F.c)(Y)(x||(x=Object(P.a)([""]))),K=n(224),Q=n(58),R=n(15);e.default=function(){var t=Object(Q.h)(),e=Object(k.useMemo)((function(){return t.pathname.includes("test")?[[137],"Polygon","0x34c01dD64203b566C4CaE656C832d5a449A34c98",7]:[[1],"Ethereum","0x4b406ACb6C43Caf306e4662AAf3a4C8e085e6439",2]}),[t]),n=Object(g.a)(e,4),a=n[0],c=n[1],r=n[2],s=n[3],i=Object(C.c)(),o=Object(g.a)(i,1)[0].data,u=Object(C.e)(),b=Object(g.a)(u,1)[0].data,d=Object(C.f)(),l=Object(g.a)(d,1)[0].data,j=Object(C.b)(),h=Object(g.a)(j,1)[0].data,p=Object(C.d)({addressOrName:r,contractInterface:L.a,signerOrProvider:l}),x=Object(k.useState)(I.b.IDLE),f=Object(g.a)(x,2),E=f[0],y=f[1],D=Object(k.useState)({transactionHash:null,tokenIdMinted:null}),P=Object(g.a)(D,2),F=P[0],X=P[1],Z=Object(k.useState)({maticAmount:S.a.from(0),amount:1,publicSale:!1,whiteListSale:!1,ownedPasses:S.a.from(0)}),$=Object(g.a)(Z,2),tt=$[0],et=$[1],nt=Object(k.useState)(""),at=Object(g.a)(nt,2),ct=at[0],rt=at[1],st=Object(k.useCallback)(Object(w.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return rt(""),y(I.b.LOADING),t.next=4,p.mint(tt.amount,!0,{value:tt.maticAmount}).then(function(){var t=Object(w.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wait(1).then((function(t){X({tokenIdMinted:parseInt(t.logs[1].topics[3]),transactionHash:t.transactionHash}),y(I.b.SUCCESSFUL)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){rt(t.data?t.data.message:t.message),y(I.b.IDLE)}));case 4:case"end":return t.stop()}}),t)}))),[p,tt.amount,tt.maticAmount]),it=Object(k.useCallback)(Object(w.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(rt(""),y(I.b.LOADING),h){t.next=4;break}return t.abrupt("return");case 4:return t.t0=p,t.t1=tt.amount,t.next=8,M(h.address);case 8:return t.t2=t.sent,t.t3={value:tt.maticAmount},t.next=12,t.t0.whitelistMint.call(t.t0,t.t1,!0,t.t2,t.t3).then(function(){var t=Object(w.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wait(1).then((function(t){X({tokenIdMinted:parseInt(t.logs[1].topics[3]),transactionHash:t.transactionHash}),y(I.b.SUCCESSFUL)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){rt(t.reason?t.reason:t.data?t.data.message:t.message),y(I.b.IDLE)}));case 12:case"end":return t.stop()}}),t)}))),[p,tt.amount,tt.maticAmount,h]),ot=Object(k.useMemo)((function(){var t;return Object(I.f)(o.connected,(null===(t=b.chain)||void 0===t?void 0:t.id)||0,a)}),[o.connected,b.chain,a]);return Object(k.useEffect)((function(){Object(w.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p&&ot&&h){t.next=2;break}return t.abrupt("return");case 2:return t.t0=et,t.t1=O.a,t.t2=Object(O.a)({},tt),t.t3={},t.next=8,p.price();case 8:return t.t4=t.sent,t.next=11,p.publicSale();case 11:return t.t5=t.sent,t.next=14,p.whiteListSale();case 14:return t.t6=t.sent,t.next=17,p.balanceOf(h.address);case 17:t.t7=t.sent,t.t8={maticAmount:t.t4,publicSale:t.t5,whiteListSale:t.t6,ownedPasses:t.t7},t.t9=(0,t.t1)(t.t2,t.t3,t.t8),(0,t.t0)(t.t9);case 21:case"end":return t.stop()}}),t)})))()}),[p,ot,h]),Object(R.jsx)(H,{children:Object(R.jsxs)(U,{children:[Object(R.jsx)(N,{src:A.n,alt:""}),o.connected?!ot&&Object(R.jsxs)(J,{children:["Wrong Chain! Please switch to ",c]}):Object(R.jsx)(J,{children:"Wallet not connected! Please connect via Metamask first"}),""!==ct&&Object(R.jsx)(J,{children:ct}),E===I.b.IDLE&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(z,{children:["Your owned passes: ",tt.ownedPasses.toNumber()]}),Object(R.jsx)(B,{children:Object(R.jsxs)(G,{children:["Amount in Ether:"," ",parseFloat(v.a.utils.formatEther(tt.maticAmount)).toFixed(s)]})}),Object(R.jsx)(B,{children:Object(R.jsxs)(G,{children:["Amount to mint: ",tt.amount]})}),(tt.whiteListSale||tt.publicSale)&&Object(R.jsx)(W,{disabled:!ot,onClick:function(){return tt.whiteListSale?it():st()},children:tt.whiteListSale?"Buy pass now (private sale)":"Buy pass now (public sale)"})]}),E===I.b.LOADING&&Object(R.jsx)(K.D,{children:Object(R.jsx)(K.C,{color:"#ed7a2d"})}),E===I.b.SUCCESSFUL&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(_,{onClick:function(){return y(I.b.IDLE)},children:["<","-- Back to buy more"]}),Object(R.jsx)(T,{children:"Welcome to the Fanzone Sports Club!"}),Object(R.jsxs)(V,{children:[Object(R.jsx)(Y,{target:"_blank",href:"https://opensea.io/assets/".concat(r,"/").concat(F.tokenIdMinted),children:"View pass on OpenSea"}),Object(R.jsx)(q,{target:"_blank",href:"https://etherscan.io/tx/".concat(F.transactionHash),children:"View tx on etherscan"})]})]})]})})}}}]);
//# sourceMappingURL=9.39365b5a.chunk.js.map