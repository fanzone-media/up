(this.webpackJsonpprofiles=this.webpackJsonpprofiles||[]).push([[9],{1109:function(t,e,n){"use strict";n.r(e);var a=n(35),c=n(0),s=n.n(c),r=n(23),i=n(31),o=n(11),u=n(33),b=n(29),l=n(131),j=n(110),d=n(1071),h=n(34),O=n(1072),p=n(1075),f=n(1058),m=n(17),x=[1],w="0x4b406ACb6C43Caf306e4662AAf3a4C8e085e6439";e.default=function(){var t=Object(l.c)(),e=Object(i.a)(t,1)[0].data,n=Object(l.e)(),c=Object(i.a)(n,1)[0].data,S=Object(l.f)(),k=Object(i.a)(S,1)[0].data,v=Object(l.b)(),L=Object(i.a)(v,1)[0].data,C=Object(l.d)({addressOrName:w,contractInterface:d.a,signerOrProvider:k}),I=Object(o.useState)(h.a.IDLE),A=Object(i.a)(I,2),g=A[0],E=A[1],D=Object(o.useState)({transactionHash:null,tokenIdMinted:null}),F=Object(i.a)(D,2),M=F[0],y=F[1],H=Object(o.useState)({maticAmount:u.a.from(0),amount:1,publicSale:!1,whiteListSale:!1,ownedPasses:u.a.from(0)}),P=Object(i.a)(H,2),U=P[0],N=P[1],B=Object(o.useState)(),G=Object(i.a)(B,2),W=G[0],J=G[1],V=function(){var t=Object(r.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return J(""),E(h.a.LOADING),t.next=4,C.mint(U.amount,!0,{value:U.maticAmount}).then(function(){var t=Object(r.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wait(1).then((function(t){y({tokenIdMinted:parseInt(t.logs[1].topics[3]),transactionHash:t.transactionHash}),E(h.a.SUCCESSFUL)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){J(t.data?t.data.message:t.message),E(h.a.IDLE)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=Object(o.useCallback)(Object(r.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(J(""),E(h.a.LOADING),L){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,C.whitelistMint(U.amount,!0,Object(O.a)(L.address),{value:U.maticAmount}).then(function(){var t=Object(r.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wait(1).then((function(t){y({tokenIdMinted:parseInt(t.logs[1].topics[3]),transactionHash:t.transactionHash}),E(h.a.SUCCESSFUL)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){J(t.data?t.data.message:t.message),E(h.a.IDLE)}));case 6:case"end":return t.stop()}}),t)}))),[C,U.amount,U.maticAmount,L]),z=Object(o.useMemo)((function(){var t;return Object(h.c)(e.connected,(null===(t=c.chain)||void 0===t?void 0:t.id)||0,x)}),[e.connected,c.chain]);return Object(o.useEffect)((function(){Object(r.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C&&z&&L){t.next=2;break}return t.abrupt("return");case 2:return t.t0=N,t.t1=a.a,t.t2=Object(a.a)({},U),t.t3={},t.next=8,C.price();case 8:return t.t4=t.sent,t.next=11,C.publicSale();case 11:return t.t5=t.sent,t.next=14,C.whiteListSale();case 14:return t.t6=t.sent,t.next=17,C.balanceOf(L.address);case 17:t.t7=t.sent,t.t8={maticAmount:t.t4,publicSale:t.t5,whiteListSale:t.t6,ownedPasses:t.t7},t.t9=(0,t.t1)(t.t2,t.t3,t.t8),(0,t.t0)(t.t9);case 21:case"end":return t.stop()}}),t)})))()}),[C,z,L]),Object(m.jsx)(p.g,{children:Object(m.jsxs)(p.f,{children:[Object(m.jsx)(p.e,{src:j.k,alt:""}),e.connected?!z&&Object(m.jsx)(p.d,{children:"Wrong Chain! Please switch to Ethereum"}):Object(m.jsx)(p.d,{children:"Wallet not connected! Please connect via Metamask first"}),""!==W&&Object(m.jsx)(p.d,{children:W}),g===h.a.IDLE&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(p.b,{children:["Your owned passes: ",U.ownedPasses.toNumber()]}),Object(m.jsx)(p.i,{children:Object(m.jsxs)(p.h,{children:["Amount in Ether:"," ",parseFloat(b.a.utils.formatEther(U.maticAmount)).toFixed(7)]})}),Object(m.jsx)(p.i,{children:Object(m.jsxs)(p.h,{children:["Amount to mint: ",U.amount]})}),(U.whiteListSale||U.publicSale)&&Object(m.jsx)(p.c,{disabled:!z,onClick:function(){return U.whiteListSale?_():V()},children:U.whiteListSale?"Buy pass now (private sale)":"Buy pass now (public sale)"})]}),g===h.a.LOADING&&Object(m.jsx)(f.D,{children:Object(m.jsx)(f.C,{color:"#ed7a2d"})}),g===h.a.SUCCESSFUL&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(p.a,{onClick:function(){return E(h.a.IDLE)},children:["<","-- Back to buy more"]}),Object(m.jsx)(p.m,{children:"Welcome to the Fanzone Sports Club!"}),Object(m.jsxs)(p.l,{children:[Object(m.jsx)(p.j,{target:"_blank",href:"https://opensea.io/assets/".concat(w,"/").concat(M.tokenIdMinted),children:"View pass on OpenSea"}),Object(m.jsx)(p.k,{target:"_blank",href:"https://etherscan.io/tx/".concat(M.transactionHash),children:"View tx on etherscan"})]})]})]})})}}}]);
//# sourceMappingURL=9.b5cc0bbc.chunk.js.map