(this.webpackJsonpprofiles=this.webpackJsonpprofiles||[]).push([[7],{1109:function(e,n,t){"use strict";t.r(n);var r,a,c,i,s,o,d,l,u,j,b,m,f,g,O,h,p,x,w,v,k,y,A,C,I,S,T,_,z,M,F,L,E,P,D,K,U,B,V,J=t(30),N=t(4),X=t(68),Y=t(207),q=t(83),G=t(312),H=t(1076),Q=t(1072),R=t.n(Q),W=t(14),Z=t(13),$=Z.c.div(r||(r=Object(W.a)(["\n  color: white;\n  width: 100%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n"]))),ee=Z.c.div(a||(a=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),ne=Z.c.h1(c||(c=Object(W.a)(["\n  font-size: 1.875rem;\n  margin: 60px auto 0 auto;\n"]))),te=Z.c.img(i||(i=Object(W.a)(["\n  width: 100%;\n  height: 15em;\n  object-position: center;\n  object-fit: cover;\n  display: block;\n"]))),re=Z.c.div(s||(s=Object(W.a)(["\n  width: 100%;\n"]))),ae=Z.c.div(o||(o=Object(W.a)(["\n  width: 100%;\n  padding: 0 0.5em;\n  background-color: rgba(33, 33, 33, 1);\n  display: flex;\n"]))),ce=Z.c.div(d||(d=Object(W.a)(["\n  position: relative;\n  display: flex;\n  padding: 1.25em 0;\n  width: 100%;\n\n  @media "," {\n    --profile-image-size: 11.25em;\n    --outer-columns-width: calc(\n      50% - 2.5em - calc(var(--profile-image-size) / 2)\n    );\n    align-items: center;\n    display: grid;\n    width: 1440px;\n    grid-template-columns:\n      var(--outer-columns-width) var(--profile-image-size)\n      var(--outer-columns-width);\n    grid-column-gap: 2.5em;\n    padding: 1.25em 2.5em;\n    margin: 0 auto 0 auto;\n  }\n"])),(function(e){return e.theme.screen.md})),ie=Z.c.div(l||(l=Object(W.a)(["\n  position: relative;\n  padding: 0 5% 0 5%;\n  width: 100%;\n\n  @media "," {\n    padding: 0;\n  }\n"])),(function(e){return e.theme.screen.md})),se=Z.c.div(u||(u=Object(W.a)(["\n  position: relative;\n  margin-left: auto;\n  margin-right: auto;\n\n  @media "," {\n    position: absolute;\n    top: 50%;\n    transform: translateX(-50%) translateY(-50%);\n    left: 50%;\n    width: 100%;\n  }\n"])),(function(e){return e.theme.screen.md})),oe=Z.c.p(j||(j=Object(W.a)(["\n  font-weight: ",";\n  letter-spacing: 1.5px;\n  width: calc(100% - 12.85em);\n  overflow-wrap: break-word;\n  color: rgba(165, 165, 165, 1);\n  font-size: 0.875rem;\n\n  @media "," {\n    width: 100%;\n    font-size: 1rem;\n  }\n"])),(function(e){return e.theme.font.weight.light}),(function(e){return e.theme.screen.md})),de=Z.c.div(b||(b=Object(W.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: auto 0 auto 0;\n  row-gap: 0.25em;\n  width: 100%;\n\n  @media "," {\n    flex-direction: row;\n    align-items: center;\n  }\n"])),(function(e){return e.theme.screen.md})),le=Z.c.h2(m||(m=Object(W.a)(["\n  font-size: 1.0625rem;\n  font-weight: ",";\n  margin: auto 0 auto 0;\n\n  @media "," {\n    font-size: 0.9375rem;\n    margin: 0 0 0 5%;\n  }\n"])),(function(e){return e.theme.font.weight.bolder}),(function(e){return e.theme.screen.md})),ue=(Z.c.h2(f||(f=Object(W.a)(["\n  font-weight: ",";\n  font-size: 0.9375rem;\n"])),(function(e){return e.theme.font.weight.bolder})),Z.c.div(g||(g=Object(W.a)(["\n  margin: auto 0 auto 0;\n\n  @media "," {\n    width: calc(50% - 5.625em);\n    margin-left: auto;\n    padding-left: 2.5%;\n  }\n"])),(function(e){return e.theme.screen.md})),Z.c.p(O||(O=Object(W.a)(["\n  font-size: 0.9375rem;\n"]))),Z.c.div(h||(h=Object(W.a)(["\n  display: flex;\n  margin-right: 2.5em;\n  column-gap: 0.625em;\n"])))),je=Z.c.div(p||(p=Object(W.a)(["\n  width: 100%;\n  padding: 0 0.5em;\n  background-color: rgba(59, 59, 59, 1);\n\n  @media "," {\n    max-width: 1440px;\n    padding: 0 2.5em;\n    margin: 0 auto 0 auto;\n    background-color: transparent;\n  }\n"])),(function(e){return e.theme.screen.md})),be=Z.c.div(x||(x=Object(W.a)(["\n  display: flex;\n  padding: 1.25em 0 1.25em 0;\n"]))),me=Z.c.div(w||(w=Object(W.a)(["\n  display: flex;\n  position: relative;\n\n  @media "," {\n    margin-left: auto;\n  }\n"])),(function(e){return e.theme.screen.md})),fe=Z.c.div(v||(v=Object(W.a)(["\n  background-color: rgba(59, 59, 59, 1);\n  border: 1px solid rgba(255, 255, 255, 0.15);\n  border-radius: 5px;\n  padding: 6px;\n  overflow: hidden;\n  margin: auto 0;\n\n  @media "," {\n    margin: 0;\n    right: 0;\n  }\n"])),(function(e){return e.theme.screen.md})),ge=Z.c.img(k||(k=Object(W.a)(["\n  height: 0.875em;\n"]))),Oe=(Z.c.img(y||(y=Object(W.a)(["\n  margin: auto;\n"]))),Z.c.div(A||(A=Object(W.a)(["\n  display: flex;\n  cursor: pointer;\n"]))),Z.c.a(C||(C=Object(W.a)(["\n  display: flex;\n  margin: ",";\n"])),(function(e){return e.expand?"auto 0 auto 6px":"7px 0 auto 0"})),Z.c.img(I||(I=Object(W.a)(["\n  margin-right: 7px;\n"]))),Z.c.a(S||(S=Object(W.a)(["\n  display: flex;\n  margin: auto 0 auto 8px;\n"]))),Z.c.img(T||(T=Object(W.a)(["\n  margin-right: 13px;\n"]))),Z.c.button(_||(_=Object(W.a)(["\n  display: flex;\n  margin: auto 0 auto 7px;\n"]))),Z.c.img(z||(z=Object(W.a)(["\n  margin: auto 7px auto 0;\n"]))),Z.c.div(M||(M=Object(W.a)(["\n  width: 100%;\n  padding: 0 0.5em;\n\n  @media "," {\n    padding: 0 2.5em;\n    max-width: 1440px;\n    margin: 0 auto 0 auto;\n  }\n"])),(function(e){return e.theme.screen.md}))),he=Z.c.img(F||(F=Object(W.a)([""]))),pe=Z.c.button(L||(L=Object(W.a)(["\n  background-color: rgba(33, 33, 33, 1);\n  max-width: max-content;\n  margin: 1.25em auto;\n  padding: 5px 0.625em;\n  border-radius: 8px;\n\n  @media "," {\n    margin: 0 auto;\n  }\n"])),(function(e){return e.theme.screen.md})),xe=t(76),we=t(40),ve=t(317),ke=Z.c.div(E||(E=Object(W.a)(["\n  position: relative;\n  display: flex;\n  z-index: 0;\n"]))),ye=Z.c.img(P||(P=Object(W.a)(["\n  border-radius: 50%;\n  height: calc(100% - 1em);\n  inset: 0;\n  margin: auto;\n  position: absolute;\n  width: auto;\n"]))),Ae=Z.c.img(D||(D=Object(W.a)(["\n  align-items: center;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n"]))),Ce=Z.c.img(K||(K=Object(W.a)(["\n  position: absolute;\n  width: 35px;\n  right: 0;\n  bottom: 0;\n  animation: "," 2s ease-in-out infinite;\n  z-index: 10;\n\n  @media "," {\n    width: 55px;\n  }\n"])),ve.k,(function(e){return e.theme.screen.md})),Ie=Z.c.img(U||(U=Object(W.a)(["\n  height: calc(100% - 1em);\n  inset: 0;\n  position: absolute;\n  width: auto;\n"]))),Se=t(17),Te=function(e){var n=e.profileImgSrc,t=e.blockieImgSrc,r=e.profileAddress,a=Object(X.h)(),c=Object(we.b)(a.network);return Object(Se.jsxs)(ke,{children:[Object(Se.jsx)(Ae,{src:t}),Object(Se.jsx)("a",{href:c&&c.exploreUrl+r,target:"_blank",rel:"noreferrer",children:Object(Se.jsx)(Ce,{src:c&&c.icon})}),"l14"===a.network&&Object(Se.jsx)("a",{href:"https://universalprofile.cloud/"+r,target:"_blank",rel:"noreferrer",children:Object(Se.jsx)(Ie,{src:xe.C})}),Object(Se.jsx)(ye,{src:n})]})},_e=t(478),ze=t(314),Me=t(251),Fe=t(132),Le=t(0),Ee=t.n(Le),Pe=t(25),De=t(56),Ke=t(34),Ue=t(135),Be=t(218),Ve=t(315),Je=function(e){var n=e.isOpen,t=e.onClose,r=e.signer,a=e.profile,c=Object(X.h)(),i=Object(N.useState)(!1),s=Object(J.a)(i,2),o=s[0],d=s[1],l=Object(N.useState)(!1),u=Object(J.a)(l,2),j=u[0],b=u[1],m=Object(N.useState)({profile_image:null,background_image:null,name:"",bio:""}),f=Object(J.a)(m,2),g=f[0],O=f[1],h=function(e){O(Object(Ke.a)(Object(Ke.a)({},g),{},Object(De.a)({},e.currentTarget.name,e.currentTarget.value)))},p=function(e){e.currentTarget.files&&O(Object(Ke.a)(Object(Ke.a)({},g),{},Object(De.a)({},e.currentTarget.name,e.currentTarget.files[0])))},x=Object(N.useMemo)((function(){return{name:g.name.length>0?g.name:a.name,description:g.bio.length>0?g.bio:a.description,backgroundImage:[{width:"",height:"",hashFunction:"keccak256(bytes)",url:null!==g.background_image?g.background_image:a.backgroundImage}],profileImage:[{width:"",height:"",hashFunction:"keccak256(bytes)",url:null!==g.profile_image?g.profile_image:a.profileImage}]}}),[g.background_image,g.bio,g.name,g.profile_image,a.backgroundImage,a.description,a.name,a.profileImage]),w=function(){var e=Object(Pe.a)(Ee.a.mark((function e(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),!a.isOwnerKeyManager){e.next=6;break}return e.next=4,Be.a.setUniversalProfileDataViaKeyManager(a.owner,a.address,x,r).catch((function(e){d(!0),t()})).finally((function(){b(!1)}));case 4:e.next=8;break;case 6:return e.next=8,Be.a.setUniversalProfileData(c.add,x,r).catch((function(e){d(!0),t()})).finally((function(){b(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(Se.jsx)(Ue.d,{heading:"Edit Profile",onClose:function(){d(!1),t()},children:j||o?Object(Se.jsx)(Ve.b,{children:o?Object(Se.jsx)(Ve.c,{children:"Something went wrong"}):Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(Me.F,{children:Object(Se.jsx)(Me.E,{color:"#ed7a2d"})}),Object(Se.jsx)(Ve.g,{children:"confirm the metamask transaction and wait ...."})]})}):Object(Se.jsxs)(Ve.a,{children:[[{name:"background_image",label:"Background Image",type:"file"},{name:"profile_image",label:"Profile Image",type:"file"},{name:"name",label:"Name",type:"text"},{name:"bio",label:"Bio",type:"textarea"}].map((function(e,n){return Object(Se.jsxs)(Ve.e,{children:[Object(Se.jsx)(Ve.f,{children:e.label}),"textarea"===e.type&&Object(Se.jsx)(Ve.i,{name:e.name,onChange:h}),("text"===e.type||"file"===e.type)&&Object(Se.jsx)(Ve.d,{name:e.name,type:e.type,onChange:"file"===e.type?p:h,accept:"file"===e.type?".jpg, .png":""})]},n)})),Object(Se.jsx)(Ve.h,{onClick:w,children:"Save Changes"})]})}):Object(Se.jsx)(Se.Fragment,{})},Ne=t(29),Xe=t(322),Ye=Z.c.div(B||(B=Object(W.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),qe=Z.c.select(V||(V=Object(W.a)(["\n  color: black;\n  width: 200px;\n"]))),Ge=function(e){var n=e.isOpen,t=e.onClose,r=e.signer,a=e.profile,c=e.selectecAddress,i=Object(N.useState)(!1),s=Object(J.a)(i,2),o=s[0],d=s[1],l=Object(N.useState)(!1),u=Object(J.a)(l,2),j=u[0],b=u[1],m=Object(N.useState)({toAddress:"",cardAddress:c||"",tokenId:null}),f=Object(J.a)(m,2),g=f[0],O=f[1],h=function(e){var n;"cardAddress"===e.currentTarget.name&&e.currentTarget.value!==g.cardAddress?O(Object(Ke.a)(Object(Ke.a)({},g),{},(n={},Object(De.a)(n,e.currentTarget.name,e.currentTarget.value),Object(De.a)(n,"tokenId",null),n))):O(Object(Ke.a)(Object(Ke.a)({},g),{},Object(De.a)({},e.currentTarget.name,e.currentTarget.value)))},p=function(){var e=Object(Pe.a)(Ee.a.mark((function e(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),!a.isOwnerKeyManager){e.next=6;break}return e.next=4,Xe.a.transferCardViaKeyManager(g.cardAddress,a.address,a.owner,g.tokenId?g.tokenId:0,g.toAddress,r).then((function(){t(),window.location.reload()})).catch((function(e){d(!0)})).finally((function(){b(!1)}));case 4:e.next=8;break;case 6:return e.next=8,Be.a.transferCardViaUniversalProfile(g.cardAddress,a.address,g.tokenId?g.tokenId:0,g.toAddress,r).then((function(){t()})).catch((function(){d(!0)})).finally((function(){b(!1)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(N.useEffect)((function(){}),[c]);return n?Object(Se.jsx)(Ue.d,{heading:"Transfer Cards",onClose:function(){d(!1),t()},children:j||o?Object(Se.jsx)(Ve.b,{children:o?Object(Se.jsx)(Ve.c,{children:"Something went wrong"}):Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(Me.F,{children:Object(Se.jsx)(Me.E,{color:"#ed7a2d"})}),Object(Se.jsx)(Ve.g,{children:"confirm the metamask transaction and wait for transaction success...."})]})}):Object(Se.jsxs)(Ye,{children:[[{name:"toAddress",label:"To",type:"text"},{name:"cardAddress",label:"Card Name",type:"select"},{name:"tokenId",label:"Token Id",type:"select"}].map((function(e,n){var t;return Object(Se.jsxs)(Ve.e,{children:[Object(Se.jsx)(Ve.f,{children:e.label}),"text"===e.type&&Object(Se.jsx)(Ve.d,{name:e.name,type:e.type,onChange:h}),"select"===e.type&&"cardAddress"===e.name&&Object(Se.jsxs)(qe,{name:e.name,onChange:h,children:[Object(Se.jsx)("option",{children:"Select token address"}),a.ownedAssets.map((function(e){return Object(Se.jsx)("option",{selected:e.assetAddress===c,value:e.assetAddress,children:e.assetAddress},e.assetAddress)}))]}),"select"===e.type&&"tokenId"===e.name&&Object(Se.jsxs)(qe,{name:e.name,onChange:h,children:[Object(Se.jsx)("option",{children:"Select token id"}),null===(t=a.ownedAssets.find((function(e){return e.assetAddress===g.cardAddress})))||void 0===t?void 0:t.tokenIds.map((function(e){return Object(Se.jsx)("option",{value:e,children:e},e)}))]})]},n)})),Object(Se.jsx)(Ve.h,{onClick:p,disabled:!(g.tokenId&&Ne.a.utils.isAddress(g.toAddress)&&Ne.a.utils.isAddress(g.cardAddress)),children:"Transfer Card"})]})}):Object(Se.jsx)(Se.Fragment,{})};n.default=function(){var e=Object(X.h)(),n=Object(G.b)(),t=Object(Fe.b)(),r=Object(J.a)(t,1)[0].data,a=Object(Fe.f)(),c=Object(J.a)(a,1)[0].data,i=Object(N.useState)(!1),s=Object(J.a)(i,2),o=s[0],d=s[1],l=Object(N.useState)(!1),u=Object(J.a)(l,2),j=u[0],b=u[1],m=Object(N.useState)(),f=Object(J.a)(m,2),g=f[0],O=f[1],h=Object(Y.c)((function(n){return Object(ze.e)(n.userData[e.network],e.add)})),p=Object(Y.c)((function(n){return n.userData[e.network].error})),x=Object(Y.c)((function(n){return n.userData[e.network].status})),w=Object(N.useState)(!1),v=Object(J.a)(w,2),k=(v[0],v[1],function(){var e=Object(N.useState)(!1),n=Object(J.a)(e,2),t=n[0],r=n[1];return{copied:t,copyText:function(){navigator.clipboard.writeText(window.location.href),r((function(e){return!e})),setTimeout((function(){r((function(e){return!e}))}),2e3)}}}()),y=(k.copied,k.copyText,Object(_e.a)(q.a.screen.md)),A=Object(N.useMemo)((function(){return h&&r&&h.permissionSet.length>0&&h.permissionSet.some((function(e){return e.address.toLowerCase()===r.address.toLowerCase()&&"1"===e.permissions.setData}))}),[r,h]),C=Object(N.useMemo)((function(){return h&&r&&h.permissionSet.length>0&&h.permissionSet.some((function(e){return e.address.toLowerCase()===r.address.toLowerCase()&&"1"===e.permissions.call}))}),[r,h]),I=function(e){O(e),b(!0)};Object(N.useEffect)((function(){n(Object(ze.a)(e.add)),h||n(Object(ze.c)({address:e.add,network:e.network}))}),[n,e.add,e.network,h]);var S=Object(N.useMemo)((function(){return Object(Se.jsx)(H.a,{type:"issued",openTransferCardModal:I,collectionAddresses:h?h.issuedAssets:[]})}),[h]),T=Object(N.useMemo)((function(){return Object(Se.jsx)(H.a,{type:"owned",profile:h,openTransferCardModal:I,transferPermission:C,collectionAddresses:h?h.ownedAssets.map((function(e){return e.assetAddress})):[]})}),[C,h]),_=Object(N.useMemo)((function(){return[{title:"twitter",url:"https://example.com"},{title:"instagram",url:"https://example.com"},{title:"facebook",url:"https://example.com"},{title:"web",url:"https://example.com"}].map((function(e){var n=e.title.toLowerCase();return"twitter"===n?Object(Se.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:Object(Se.jsx)(he,{src:xe.B})},e.url):"instagram"===n?Object(Se.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:Object(Se.jsx)(he,{src:xe.o})},e.url):"facebook"===n?Object(Se.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:Object(Se.jsx)(he,{src:xe.j})},e.url):Object(Se.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:Object(Se.jsx)(he,{src:xe.n})},e.url)}))}),[null===h||void 0===h?void 0:h.links]);return Object(N.useEffect)((function(){window.scrollTo(0,0)}),[e.add,h]),Object(Se.jsxs)($,{children:[c&&h&&r&&(A||h.owner.toLowerCase()===r.address.toLowerCase())&&Object(Se.jsx)(Je,{isOpen:o,onClose:function(){return d(!1)},signer:c,profile:h}),c&&h&&r&&h.ownedAssets.length>0&&(C||h.owner.toLowerCase()===r.address.toLowerCase())&&Object(Se.jsx)(Ge,{isOpen:j,onClose:function(){return b(!1)},signer:c,profile:h,selectecAddress:g}),"loading"===x?Object(Se.jsx)(Me.F,{children:Object(Se.jsx)(Me.E,{color:"#ed7a2d"})}):Object(Se.jsx)(ee,{children:p?Object(Se.jsx)(ne,{children:"Profile not found"}):Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(te,{src:null===h||void 0===h?void 0:h.backgroundImage,alt:""}),Object(Se.jsxs)(re,{children:[Object(Se.jsx)(ae,{children:Object(Se.jsxs)(ce,{children:[y&&Object(Se.jsx)(oe,{children:null===h||void 0===h?void 0:h.address}),Object(Se.jsx)(ie,{children:Object(Se.jsx)(se,{children:Object(Se.jsx)(Te,{profileImgSrc:null===h||void 0===h?void 0:h.profileImage,blockieImgSrc:R()(h?h.address:e.add),profileAddress:null===h||void 0===h?void 0:h.address})})}),Object(Se.jsxs)(de,{children:[Object(Se.jsxs)(le,{children:["@",null===h||void 0===h?void 0:h.name]}),Object(Se.jsxs)(me,{children:[Object(Se.jsx)(ue,{children:_}),Object(Se.jsx)(fe,{children:Object(Se.jsx)(ge,{src:xe.x})})]})]})]})}),Object(Se.jsx)(je,{children:Object(Se.jsx)(be,{children:!y&&Object(Se.jsx)(oe,{children:e.add})})})]}),c&&h&&r&&h.ownedAssets.length>0&&(C||h.owner.toLowerCase()===r.address.toLowerCase())&&Object(Se.jsx)(pe,{onClick:function(){return b(!0)},children:"Transfer Cards"}),Object(Se.jsxs)(Oe,{children:[h&&h.issuedAssets.length>0?S:Object(Se.jsx)(Se.Fragment,{}),h&&h.ownedAssets.length>0&&T]})]})})]})}}}]);
//# sourceMappingURL=7.1f1380da.chunk.js.map