{"version":3,"sources":["features/profiles/ProfileCard/ProfileCard.tsx","pages/Profiles/styles.ts","utility/content/addresses.ts","pages/Profiles/Profiles.tsx"],"names":["ProfileCard","userProfile","balance","type","tooltipId","params","useParams","getTooltipTokenIds","useMemo","ownedAssets","find","asset","assetAddress","toLowerCase","add","to","network","Web3","utils","toChecksumAddress","address","demo","data-tip","tokenIds","data-for","length","src","polygon","alt","makeBlockie","profileImage","name","StyledMainContent","styled","div","StyledHeroSection","BgFanzoneHero","StyledContentwrappar","theme","screen","md","StyledGreeting","StyledWelcomeHeading","h1","font","weight","bolder","StyledDescription","p","regular","StyledDivider","span","StyledProfilesHeader","StyledProfileHeading","lg","xl","button","getDefaultAddresses","a","fetch","res","json","Profiles","dispatch","useAppDispatch","useState","demoProfiles","setDemoProfiles","setErrorLoadingProfileAddresses","demoAssets","setDemoAssets","setErrorLoadingAssetsAddresses","useEffect","then","result","error","demoProfilesRange","setDemoProfilesRange","demoAssetsRange","setDemoAssetsRange","console","log","slice","fetchAllProfiles","addresses","userProfiles","useSelector","state","selectAllUsersItems","userData","filter","item","some","i","useProfilesState","status","allCollection","selectAllCardItems","fetchAllCards","index","arrayLength","useAssetsState","cards","components","map","nbrOfAllComponents","setComponentsRange","digitalCard","MetaCard"],"mappings":"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","file":"static/js/8.4d3cbdef.chunk.js","sourcesContent":["import React, { useMemo } from 'react';\nimport { IProfile } from '../../../services/models';\nimport polygon from '../../../assets/polygon.svg';\nimport { NetworkName } from '../../../boot/types';\nimport makeBlockie from 'ethereum-blockies-base64';\nimport {\n  StyledBalance,\n  StyledBalanceWrapper,\n  StyledPolygon,\n  StyledProfileBlockie,\n  StyledProfileCard,\n  StyledProfileDetail,\n  StyledProfileDetailWrapper,\n  StyledProfileImg,\n  StyledProfileMedia,\n  StyledProfileName,\n  StyledProfileRole,\n} from './styles';\nimport { useParams } from 'react-router-dom';\nimport Web3 from 'web3';\n\ninterface Iprops {\n  userProfile: IProfile;\n  type: string;\n  balance?: number;\n  tooltipId?: string;\n}\n\ninterface IParams {\n  network: NetworkName;\n  add: string;\n}\n\nexport const ProfileCard: React.FC<Iprops> = ({\n  userProfile,\n  balance,\n  type,\n  tooltipId,\n}: Iprops) => {\n  const params = useParams<IParams>();\n  const getTooltipTokenIds = useMemo(\n    () =>\n      type !== 'demo' &&\n      userProfile.ownedAssets.find(\n        (asset) =>\n          asset.assetAddress.toLowerCase() === params.add.toLowerCase(),\n      ),\n    [params.add, type, userProfile.ownedAssets],\n  );\n\n  return (\n    <StyledProfileCard\n      to={\n        `/${params.network}/profile/` +\n        Web3.utils.toChecksumAddress(userProfile.address)\n      }\n      demo={type === 'demo' ? true : false}\n      data-tip={\n        type !== 'demo' && getTooltipTokenIds && getTooltipTokenIds.tokenIds\n      }\n      data-for={tooltipId}\n    >\n      <StyledBalanceWrapper demo={type === 'demo' ? true : false}>\n        <StyledBalance demo={type === 'demo' ? true : false}>\n          {type === 'demo' ? userProfile.ownedAssets.length : balance}\n        </StyledBalance>\n      </StyledBalanceWrapper>\n      <StyledPolygon\n        src={polygon}\n        alt=\"\"\n        demo={type === 'demo' ? true : false}\n      />\n      <StyledProfileMedia demo={type === 'demo' ? true : false}>\n        <StyledProfileBlockie\n          src={makeBlockie(userProfile.address)}\n          alt=\"\"\n          demo={type === 'demo' ? true : false}\n        />\n        <StyledProfileImg\n          src={userProfile.profileImage}\n          alt=\"\"\n          demo={type === 'demo' ? true : false}\n        />\n      </StyledProfileMedia>\n      <StyledProfileDetailWrapper demo={type === 'demo' ? true : false}>\n        <StyledProfileDetail>\n          <StyledProfileName demo={type === 'demo' ? true : false}>\n            {' '}\n            @{userProfile.name}{' '}\n          </StyledProfileName>\n          <StyledProfileRole>FANZONE user</StyledProfileRole>\n        </StyledProfileDetail>\n      </StyledProfileDetailWrapper>\n    </StyledProfileCard>\n  );\n};\n","import styled from 'styled-components';\nimport { BgFanzoneHero } from '../../assets';\n\nexport const StyledMainContent = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  color: white;\n`;\n\nexport const StyledHeroSection = styled.div`\n  height: 243px;\n  width: 100%;\n  background: url(${BgFanzoneHero});\n  background-position: center;\n  background-repeat: repeat;\n  background-size: cover;\n`;\n\nexport const StyledContentwrappar = styled.div`\n  width: 100%;\n  padding: 0px 8px 0 8px;\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n  flex-direction: column;\n\n  @media ${({ theme }) => theme.screen.md} {\n    padding: 0 40px 0 40px;\n    max-width: 1440px;\n  }\n`;\n\nexport const StyledGreeting = styled.div`\n  padding-top: 20px;\n`;\n\nexport const StyledWelcomeHeading = styled.h1`\n  font-size: 24px;\n  font-weight: ${({ theme }) => theme.font.weight.bolder};\n`;\n\nexport const StyledDescription = styled.p`\n  font-size: 18px;\n  font-weight: ${({ theme }) => theme.font.weight.regular};\n`;\n\nexport const StyledDivider = styled.span`\n  border-bottom: 1px solid #dfdfdf;\n  width: 100%;\n  margin-top: 20px;\n`;\n\nexport const StyledProfilesHeader = styled.div`\n  padding-top: 20px;\n  display: flex;\n`;\n\nexport const StyledProfileHeading = styled.h1`\n  font-size: 24px;\n  font-weight: ${({ theme }) => theme.font.weight.bolder};\n  margin-right: auto;\n`;\n\nexport const StyledProfilesWrapper = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  width: 100%;\n  padding: 20px 0 20px 0;\n  justify-items: center;\n\n  @media ${({ theme }) => theme.screen.md} {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n  @media ${({ theme }) => theme.screen.lg} {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n  @media ${({ theme }) => theme.screen.xl} {\n    grid-template-columns: repeat(5, minmax(0, 1fr));\n  }\n`;\n\nexport const StyledErrorContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 40px auto 0 auto;\n  row-gap: 10px;\n`;\n\nexport const StyledError = styled.h1`\n  font-size: 24px;\n`;\n\nexport const StyledReloadButton = styled.button`\n  background: black;\n  padding: 8px 16px 8px 16px;\n  border-radius: 6px;\n  margin-right: auto;\n  margin-left: auto;\n`;\n","import { NetworkName } from '../../boot/types';\nimport { Address } from '../../utils/types';\n\nexport const getDefaultAddresses = async (\n  network: NetworkName,\n  type: 'assetsAddresses' | 'profileAddresses',\n): Promise<Array<Address>> => {\n  const res = await fetch(`./api/${network}/${type}.json`);\n  return res.json();\n};\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { ProfileCard } from '../../features/profiles/ProfileCard';\nimport { NetworkName, RootState } from '../../boot/types';\nimport { fetchAllProfiles, selectAllUsersItems } from '../../features/profiles';\nimport { ICard, IProfile } from '../../services/models';\nimport { Pagination } from '../../components';\nimport {\n  StyledContentwrappar,\n  StyledDescription,\n  StyledGreeting,\n  StyledHeroSection,\n  StyledMainContent,\n  StyledDivider,\n  StyledWelcomeHeading,\n  StyledProfilesHeader,\n  StyledProfileHeading,\n} from './styles';\nimport { Search } from '../../components';\nimport { useAppDispatch } from '../../boot/store';\nimport { useParams } from 'react-router-dom';\nimport { getDefaultAddresses } from '../../utility/content/addresses';\nimport { Address } from '../../utils/types';\nimport { fetchAllCards, selectAllCardItems } from '../../features/cards';\nimport { MetaCard } from '../../features/cards/MetaCard';\n\ninterface IParams {\n  network: NetworkName;\n}\n\nconst Profiles: React.FC = () => {\n  const params = useParams<IParams>();\n  const dispatch = useAppDispatch();\n  const [demoProfiles, setDemoProfiles] = useState<Array<Address>>([]);\n  // @TODO: show error message\n  const [errorLoadingProfileAddresses, setErrorLoadingProfileAddresses] =\n    useState();\n  const [demoAssets, setDemoAssets] = useState<Array<Address>>([]);\n  const [errorLoadingAssetsAddresses, setErrorLoadingAssetsAddresses] =\n    useState();\n\n  useEffect(() => {\n    getDefaultAddresses(params.network, 'profileAddresses').then(\n      (result) => {\n        setDemoProfiles(result);\n      },\n      (error) => {\n        setErrorLoadingProfileAddresses(error);\n      },\n    );\n    getDefaultAddresses(params.network, 'assetsAddresses').then(\n      (result) => {\n        setDemoAssets(result);\n      },\n      (error) => {\n        setErrorLoadingAssetsAddresses(error);\n      },\n    );\n    // empty array to only call once\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n  const [demoProfilesRange, setDemoProfilesRange] = useState<[number, number]>([\n    0, 9,\n  ]); // load first 11 by default\n  const [demoAssetsRange, setDemoAssetsRange] = useState<[number, number]>([\n    0, 9,\n  ]); // load first 11 by default\n\n  useEffect(() => {\n    if (demoProfiles.length === 0) return;\n    console.log(\n      demoProfiles.slice(demoProfilesRange[0], demoProfilesRange[1] + 1),\n    );\n    dispatch(\n      fetchAllProfiles({\n        addresses: demoProfiles.slice(\n          demoProfilesRange[0],\n          demoProfilesRange[1] + 1,\n        ),\n        network: params.network,\n      }),\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, demoProfiles, params.network, demoProfilesRange]);\n\n  const userProfiles = useSelector(\n    (state: RootState) => selectAllUsersItems(state.userData[params.network]),\n    // eslint-disable-next-line array-callback-return\n  )?.filter((item) => {\n    if (demoProfiles.length > 0) {\n      return demoProfiles?.some(\n        (i) => i === item.address && item.network === params.network,\n      );\n    }\n  });\n\n  const useProfilesState = useSelector(\n    (state: RootState) => state.userData[params.network].status,\n  );\n\n  const allCollection = useSelector(selectAllCardItems).filter((item) =>\n    demoAssets.some((i) => i === item.address),\n  );\n\n  useEffect(() => {\n    if (demoAssets.length === 0) return;\n    dispatch(\n      fetchAllCards({\n        addresses: demoAssets.slice(demoAssetsRange[0], demoAssetsRange[1] + 1),\n        network: params.network,\n        index: demoAssetsRange[0],\n        arrayLength: demoAssets.length,\n      }),\n    );\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, demoAssets, params.network, demoAssetsRange]);\n\n  const useAssetsState = useSelector((state: RootState) => state.cards.status);\n\n  return (\n    <StyledMainContent>\n      <StyledHeroSection></StyledHeroSection>\n      <StyledContentwrappar>\n        <StyledGreeting>\n          <StyledWelcomeHeading>\n            Welcome on Fanzone Profiles\n          </StyledWelcomeHeading>\n          <StyledDescription>\n            Fanzone Profiles displays any data from the Blockchain which follows\n            the standards of ERC725, LUKSO LSP1-3 and NFTs.\n          </StyledDescription>\n        </StyledGreeting>\n        <StyledDivider></StyledDivider>\n        <>\n          <StyledProfilesHeader>\n            <StyledProfileHeading>Profiles</StyledProfileHeading>\n            <Search />\n          </StyledProfilesHeader>\n          <Pagination\n            status={useProfilesState}\n            components={userProfiles.map((userProfile: IProfile) => (\n              <ProfileCard\n                key={userProfile.address}\n                userProfile={userProfile}\n                type=\"demo\"\n              />\n            ))}\n            nbrOfAllComponents={demoProfiles.length}\n            setComponentsRange={setDemoProfilesRange}\n          />\n          {/* <Pagination type=\"demo\" collectionAddresses={demoAssets} /> */}\n          <StyledProfilesHeader>\n            <StyledProfileHeading>Assets</StyledProfileHeading>\n            <Search />\n          </StyledProfilesHeader>\n          <Pagination\n            status={useAssetsState}\n            components={allCollection.map((digitalCard: ICard) => {\n              return (\n                <MetaCard\n                  key={digitalCard.address}\n                  digitalCard={digitalCard}\n                  type=\"demo\"\n                />\n              );\n            })}\n            nbrOfAllComponents={demoAssets.length}\n            setComponentsRange={setDemoAssetsRange}\n          />\n        </>\n      </StyledContentwrappar>\n    </StyledMainContent>\n  );\n};\n\nexport default Profiles;\n"],"sourceRoot":""}